<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneMindAI - 12-Day Production Launch Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); min-height: 100vh; color: #fff; }
        .container { max-width: 1400px; margin: 0 auto; padding: 40px 20px; }
        h1 { font-size: 3rem; text-align: center; margin-bottom: 10px; background: linear-gradient(90deg, #667eea, #764ba2, #f093fb); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { text-align: center; color: #a0aec0; margin-bottom: 40px; font-size: 1.2rem; }
        .nav { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 40px; position: sticky; top: 0; background: rgba(15,12,41,0.95); padding: 20px; border-radius: 12px; z-index: 100; }
        .nav a { padding: 10px 20px; background: rgba(255,255,255,0.1); border-radius: 8px; color: #fff; text-decoration: none; transition: all 0.3s; font-size: 0.9rem; }
        .nav a:hover, .nav a.active { background: linear-gradient(135deg, #667eea, #764ba2); }
        .section { background: rgba(255,255,255,0.05); border-radius: 16px; padding: 30px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1); }
        .section h2 { font-size: 1.8rem; margin-bottom: 20px; color: #667eea; display: flex; align-items: center; gap: 10px; }
        .section h3 { font-size: 1.3rem; margin: 20px 0 15px; color: #f093fb; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .card { background: rgba(255,255,255,0.08); border-radius: 12px; padding: 20px; border-left: 4px solid #667eea; }
        .card.critical { border-left-color: #f56565; }
        .card.warning { border-left-color: #ed8936; }
        .card.success { border-left-color: #48bb78; }
        .card h4 { margin-bottom: 10px; font-size: 1.1rem; }
        .card p, .card li { color: #cbd5e0; font-size: 0.95rem; line-height: 1.6; }
        .card ul { padding-left: 20px; margin-top: 10px; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-right: 8px; }
        .badge.red { background: #f56565; }
        .badge.orange { background: #ed8936; }
        .badge.green { background: #48bb78; }
        .badge.blue { background: #4299e1; }
        .badge.purple { background: #9f7aea; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 12px 16px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { background: rgba(102,126,234,0.3); color: #fff; font-weight: 600; }
        tr:hover { background: rgba(255,255,255,0.05); }
        code { background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 0.9rem; }
        pre { background: #1a1a2e; padding: 20px; border-radius: 8px; overflow-x: auto; margin: 15px 0; }
        pre code { background: none; padding: 0; }
        .timeline { position: relative; padding-left: 30px; }
        .timeline::before { content: ''; position: absolute; left: 10px; top: 0; bottom: 0; width: 2px; background: linear-gradient(180deg, #667eea, #764ba2); }
        .timeline-item { position: relative; margin-bottom: 30px; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; }
        .timeline-item::before { content: ''; position: absolute; left: -24px; top: 25px; width: 12px; height: 12px; background: #667eea; border-radius: 50%; border: 3px solid #302b63; }
        .timeline-item.done::before { background: #48bb78; }
        .day-header { font-size: 1.2rem; color: #f093fb; margin-bottom: 10px; }
        .progress-bar { height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 4px; transition: width 0.5s; }
        .error-box { background: rgba(245,101,101,0.1); border: 1px solid #f56565; border-radius: 8px; padding: 15px; margin: 10px 0; }
        .error-box h5 { color: #f56565; margin-bottom: 8px; }
        .solution-box { background: rgba(72,187,120,0.1); border: 1px solid #48bb78; border-radius: 8px; padding: 15px; margin: 10px 0; }
        .solution-box h5 { color: #48bb78; margin-bottom: 8px; }
        .checklist { list-style: none; padding: 0; }
        .checklist li { padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; gap: 10px; }
        .checklist li::before { content: 'â˜'; font-size: 1.2rem; }
        .checklist li.done::before { content: 'âœ…'; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 20px 0; }
        .stat-card { background: linear-gradient(135deg, rgba(102,126,234,0.2), rgba(118,75,162,0.2)); padding: 20px; border-radius: 12px; text-align: center; }
        .stat-card .number { font-size: 2.5rem; font-weight: 700; background: linear-gradient(90deg, #667eea, #f093fb); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stat-card .label { color: #a0aec0; font-size: 0.9rem; margin-top: 5px; }
        @media (max-width: 768px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } h1 { font-size: 2rem; } }
        .day-card { background: rgba(255,255,255,0.05); border-radius: 16px; margin-bottom: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
        .day-header-btn { width: 100%; padding: 20px 25px; background: linear-gradient(135deg, rgba(102,126,234,0.3), rgba(118,75,162,0.3)); border: none; color: #fff; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 1.1rem; font-weight: 600; transition: all 0.3s; }
        .day-header-btn:hover { background: linear-gradient(135deg, rgba(102,126,234,0.5), rgba(118,75,162,0.5)); }
        .day-header-btn .arrow { transition: transform 0.3s; font-size: 1.5rem; }
        .day-card.open .day-header-btn .arrow { transform: rotate(180deg); }
        .day-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; }
        .day-card.open .day-content { max-height: 5000px; }
        .day-inner { padding: 25px; }
        .test-case { background: rgba(66,153,225,0.1); border: 1px solid #4299e1; border-radius: 8px; padding: 15px; margin: 10px 0; }
        .test-case h5 { color: #4299e1; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
        .error-item { background: rgba(245,101,101,0.1); border-left: 3px solid #f56565; padding: 12px 15px; margin: 8px 0; border-radius: 0 8px 8px 0; }
        .error-item code { background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 3px; font-size: 0.85rem; }
        .fix-item { background: rgba(72,187,120,0.1); border-left: 3px solid #48bb78; padding: 12px 15px; margin: 8px 0; border-radius: 0 8px 8px 0; }
        .code-block { background: #1a1a2e; padding: 15px; border-radius: 8px; overflow-x: auto; margin: 10px 0; font-family: 'Consolas', monospace; font-size: 0.9rem; }
        .task-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; margin: 15px 0; }
        .hours-badge { background: linear-gradient(135deg, #667eea, #764ba2); padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ OneMindAI Production Launch</h1>
        <p class="subtitle">12-Day Sprint to December 10, 2025 | Formula2GX Digital Advanced Incubation Labs</p>
        
        <nav class="nav">
            <a href="#overview">Overview</a>
            <a href="#critical">Critical Issues</a>
            <a href="#backend">Backend Setup</a>
            <a href="#testing">Testing</a>
            <a href="#errors">Error Catalog</a>
            <a href="#timeline">12-Day Sprint</a>
            <a href="#admin">Admin Panel</a>
            <a href="#testing">Testing Dashboard</a>
            <a href="#credits">Credit System</a>
            <a href="#cost-dispersion">Cost Dispersion</a>
            <a href="#ux-flow">UX Flow</a>
            <a href="#chaos-monkey">ğŸ’ Chaos Monkey</a>
            <a href="#security">ğŸ” Security & Privacy</a>
            <a href="#user-accounts">ğŸ‘¤ User Accounts & Auth</a>
            <a href="#onboarding">ğŸ User Onboarding & Conversion</a>
            <a href="#checklist">Checklist</a>
        </nav>

        <!-- OVERVIEW SECTION -->
        <section id="overview" class="section">
            <h2>ğŸ“Š Executive Overview</h2>
            <div class="stats-grid">
                <div class="stat-card"><div class="number">12</div><div class="label">Days to Launch</div></div>
                <div class="stat-card"><div class="number">9K+</div><div class="label">Lines of Code</div></div>
                <div class="stat-card"><div class="number">12</div><div class="label">AI Engines</div></div>
                <div class="stat-card"><div class="number">5</div><div class="label">Critical Blockers</div></div>
            </div>
            
            <h3>Current State Assessment</h3>
            <div class="grid">
                <div class="card critical">
                    <h4>ğŸ”´ Critical Issues (5)</h4>
                    <ul>
                        <li>API keys hardcoded in source code</li>
                        <li>Direct browser-to-API calls exposed</li>
                        <li>No environment configuration</li>
                        <li>No backend proxy server</li>
                        <li>No rate limiting protection</li>
                    </ul>
                </div>
                <div class="card warning">
                    <h4>ğŸŸ  High Priority (4)</h4>
                    <ul>
                        <li>No user authentication</li>
                        <li>No error monitoring (Sentry)</li>
                        <li>Large bundle size (~3-5MB)</li>
                        <li>No code splitting</li>
                    </ul>
                </div>
                <div class="card success">
                    <h4>ğŸŸ¢ Ready for Production</h4>
                    <ul>
                        <li>Core AI integration working</li>
                        <li>Export functionality complete</li>
                        <li>Error recovery system built</li>
                        <li>UI/UX polished</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- CRITICAL ISSUES SECTION -->
        <section id="critical" class="section">
            <h2>ğŸš¨ Critical Security Issues</h2>
            
            <div class="error-box">
                <h5>CRITICAL: API Keys Exposed in Frontend Bundle</h5>
                <p>Your API keys are hardcoded in <code>OneMindAI.tsx</code> lines 111-123:</p>
                <pre><code>const DEFAULT_API_KEYS: Record&lt;string, string&gt; = {
  "claude": "sk-ant-api03-P3ZAYwenmTQCY...",
  "chatgpt": "sk-proj-gylOqfyZQ_NA9d5...",
  "gemini": "AIzaSyCsFbBWC0FmGeXWC...",
  // ... more keys
};</code></pre>
                <p><strong>Impact:</strong> Anyone can view source, steal keys, and drain your API budgets.</p>
            </div>
            
            <div class="solution-box">
                <h5>âœ… Solution: Backend Proxy Server</h5>
                <pre><code>// server/api-proxy.js
const express = require('express');
const app = express();

// API keys stored in environment variables
const API_KEYS = {
  openai: process.env.OPENAI_API_KEY,
  anthropic: process.env.ANTHROPIC_API_KEY,
  gemini: process.env.GEMINI_API_KEY,
};

// Proxy endpoint - frontend calls this, not AI APIs directly
app.post('/api/chat/:provider', async (req, res) => {
  const { provider } = req.params;
  const apiKey = API_KEYS[provider];
  
  // Forward request to actual AI API
  const response = await fetch(getProviderUrl(provider), {
    headers: { 'Authorization': `Bearer ${apiKey}` },
    body: JSON.stringify(req.body)
  });
  
  res.json(await response.json());
});</code></pre>
            </div>

            <h3>dangerouslyAllowBrowser Flag</h3>
            <div class="error-box">
                <h5>WARNING: Browser API Calls Expose Keys</h5>
                <p>Found 7+ instances of <code>dangerouslyAllowBrowser: true</code></p>
                <p>This flag exists because SDK authors know browser calls are insecure.</p>
            </div>
        </section>

        <!-- ARCHITECTURE SECTION -->
        <section id="architecture" class="section">
            <h2>ğŸ—ï¸ Production Architecture</h2>
            
            <h3>Current Architecture (INSECURE)</h3>
            <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Browser  â”‚â”€â”€â”€â”€â–¶â”‚   AI APIs       â”‚
â”‚   (React App)   â”‚     â”‚ (OpenAI, etc.)  â”‚
â”‚                 â”‚     â”‚                 â”‚
â”‚ âš ï¸ API Keys     â”‚     â”‚                 â”‚
â”‚   EXPOSED!      â”‚     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

            <h3>Target Architecture (SECURE)</h3>
            <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Browser  â”‚â”€â”€â”€â”€â–¶â”‚  Backend Proxy  â”‚â”€â”€â”€â”€â–¶â”‚   AI APIs       â”‚
â”‚   (React App)   â”‚     â”‚  (Vercel/Node)  â”‚     â”‚ (OpenAI, etc.)  â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚
â”‚ âœ… No API Keys  â”‚     â”‚ ğŸ” API Keys     â”‚     â”‚                 â”‚
â”‚                 â”‚     â”‚    Secured      â”‚     â”‚                 â”‚
â”‚                 â”‚     â”‚ ğŸ›¡ï¸ Rate Limit   â”‚     â”‚                 â”‚
â”‚                 â”‚     â”‚ ğŸ“Š Logging      â”‚     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

            <h3>Recommended Tech Stack</h3>
            <table>
                <tr><th>Layer</th><th>Technology</th><th>Why</th></tr>
                <tr><td>Frontend Hosting</td><td>Vercel / Netlify</td><td>Free tier, CDN, SSL included</td></tr>
                <tr><td>Backend API</td><td>Vercel Functions / Express</td><td>Serverless, auto-scaling</td></tr>
                <tr><td>Database</td><td>Supabase (PostgreSQL)</td><td>Free tier, built-in auth</td></tr>
                <tr><td>Authentication</td><td>Clerk / Supabase Auth</td><td>2-hour setup, secure</td></tr>
                <tr><td>Error Monitoring</td><td>Sentry</td><td>Free tier, real-time alerts</td></tr>
                <tr><td>Analytics</td><td>Vercel Analytics</td><td>Built-in, no setup</td></tr>
            </table>
        </section>

        <!-- BACKEND SETUP SECTION -->
        <section id="backend" class="section">
            <h2>âš™ï¸ Backend Setup Guide</h2>
            
            <h3>Option 1: Vercel Serverless Functions (Recommended)</h3>
            <pre><code>// api/chat/[provider].ts - Vercel API Route
import type { VercelRequest, VercelResponse } from '@vercel/node';

const API_CONFIGS = {
  openai: {
    url: 'https://api.openai.com/v1/chat/completions',
    key: process.env.OPENAI_API_KEY,
  },
  anthropic: {
    url: 'https://api.anthropic.com/v1/messages',
    key: process.env.ANTHROPIC_API_KEY,
  },
  gemini: {
    url: 'https://generativelanguage.googleapis.com/v1beta/models',
    key: process.env.GEMINI_API_KEY,
  },
};

export default async function handler(req: VercelRequest, res: VercelResponse) {
  const { provider } = req.query;
  const config = API_CONFIGS[provider as string];
  
  if (!config) {
    return res.status(400).json({ error: 'Invalid provider' });
  }

  try {
    const response = await fetch(config.url, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': \`Bearer \${config.key}\`,
      },
      body: JSON.stringify(req.body),
    });

    const data = await response.json();
    res.status(response.status).json(data);
  } catch (error) {
    res.status(500).json({ error: 'Proxy error' });
  }
}</code></pre>

            <h3>Option 2: Express.js Server</h3>
            <pre><code>// server/index.js
const express = require('express');
const cors = require('cors');
const rateLimit = require('express-rate-limit');
require('dotenv').config();

const app = express();

// Middleware
app.use(cors({ origin: process.env.FRONTEND_URL }));
app.use(express.json({ limit: '10mb' }));

// Rate limiting - 100 requests per 15 minutes per IP
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 100,
  message: { error: 'Too many requests, please try again later' }
});
app.use('/api/', limiter);

// AI Proxy Routes
app.post('/api/openai', async (req, res) => {
  const response = await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': \`Bearer \${process.env.OPENAI_API_KEY}\`,
    },
    body: JSON.stringify(req.body),
  });
  res.json(await response.json());
});

// Similar routes for other providers...

app.listen(3001, () => console.log('API Proxy running on :3001'));</code></pre>

            <h3>Environment Variables Setup</h3>
            <pre><code># .env.local (NEVER commit this file!)
OPENAI_API_KEY=sk-proj-xxx
ANTHROPIC_API_KEY=sk-ant-xxx
GEMINI_API_KEY=AIzaSyxxx
DEEPSEEK_API_KEY=sk-xxx
MISTRAL_API_KEY=xxx
PERPLEXITY_API_KEY=pplx-xxx
GROQ_API_KEY=gsk_xxx
KIMI_API_KEY=sk-xxx

# Frontend URL for CORS
FRONTEND_URL=https://onemindai.vercel.app

# Database (if using Supabase)
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=xxx</code></pre>

            <h3>Vercel Deployment</h3>
            <pre><code># 1. Install Vercel CLI
npm i -g vercel

# 2. Login
vercel login

# 3. Deploy
vercel

# 4. Set environment variables in Vercel Dashboard
# Project Settings â†’ Environment Variables â†’ Add each key</code></pre>
        </section>

        <!-- TESTING SECTION -->
        <section id="testing" class="section">
            <h2>ğŸ§ª Testing & Edge Cases</h2>
            
            <h3>Stress Test Scripts</h3>
            <pre><code>// tests/stress-test.js
// Run these BEFORE going live to find breaking points

// 1. CONCURRENT REQUEST STORM
async function testConcurrentRequests() {
  console.log('ğŸ”¥ Testing 50 concurrent requests...');
  const promises = [];
  for (let i = 0; i < 50; i++) {
    promises.push(fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ 
        prompt: 'Test prompt ' + i,
        provider: 'openai',
        model: 'gpt-4o-mini'
      })
    }).then(r => ({ status: r.status, i })));
  }
  
  const results = await Promise.allSettled(promises);
  const failed = results.filter(r => r.status === 'rejected' || r.value?.status !== 200);
  console.log(\`Results: \${results.length - failed.length}/\${results.length} succeeded\`);
  console.log('Failed:', failed);
}

// 2. LARGE PAYLOAD TEST
async function testLargePayload() {
  console.log('ğŸ“¦ Testing 1MB payload...');
  const hugePrompt = 'x'.repeat(1_000_000);
  try {
    const response = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: hugePrompt })
    });
    console.log('Response:', response.status, await response.text());
  } catch (e) {
    console.log('Expected error:', e.message);
  }
}

// 3. RAPID FIRE (Rate Limit Test)
async function testRapidFire() {
  console.log('âš¡ Testing rapid fire requests...');
  const results = [];
  for (let i = 0; i < 100; i++) {
    const start = Date.now();
    const response = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: 'Quick test' })
    });
    results.push({ i, status: response.status, time: Date.now() - start });
  }
  const rateLimited = results.filter(r => r.status === 429);
  console.log(\`Rate limited: \${rateLimited.length}/100 requests\`);
}

// 4. MALFORMED INPUT TEST
async function testMalformedInputs() {
  console.log('ğŸ”¨ Testing malformed inputs...');
  const badInputs = [
    null,
    undefined,
    '',
    { prompt: null },
    { prompt: [] },
    { prompt: { nested: 'object' } },
    '&lt;script&gt;alert("xss")&lt;/script&gt;',
    '"; DROP TABLE users; --',
    { prompt: 'a'.repeat(10_000_000) }, // 10MB string
    { model: '../../../etc/passwd' }, // Path traversal
  ];
  
  for (const input of badInputs) {
    try {
      const response = await fetch('/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(input)
      });
      console.log(\`Input: \${JSON.stringify(input)?.slice(0,50)} â†’ Status: \${response.status}\`);
    } catch (e) {
      console.log(\`Input: \${JSON.stringify(input)?.slice(0,50)} â†’ Error: \${e.message}\`);
    }
  }
}

// 5. STREAMING CONNECTION TEST
async function testStreamingConnection() {
  console.log('ğŸŒŠ Testing streaming connections...');
  const controller = new AbortController();
  
  // Abort after 5 seconds
  setTimeout(() => controller.abort(), 5000);
  
  try {
    const response = await fetch('/api/chat/stream', {
      method: 'POST',
      signal: controller.signal,
      body: JSON.stringify({ prompt: 'Write a very long essay' })
    });
    
    const reader = response.body.getReader();
    let chunks = 0;
    while (true) {
      const { done, value } = await reader.read();
      if (done) break;
      chunks++;
    }
    console.log(\`Received \${chunks} chunks before abort\`);
  } catch (e) {
    console.log('Stream aborted as expected:', e.name);
  }
}

// 6. MEMORY LEAK TEST
async function testMemoryLeak() {
  console.log('ğŸ’¾ Testing for memory leaks...');
  const initialMemory = performance.memory?.usedJSHeapSize;
  
  // Create 100 streaming connections without cleanup
  const connections = [];
  for (let i = 0; i < 100; i++) {
    connections.push(fetch('/api/chat/stream', {
      method: 'POST',
      body: JSON.stringify({ prompt: 'Test' })
    }));
  }
  
  await Promise.allSettled(connections);
  
  const finalMemory = performance.memory?.usedJSHeapSize;
  console.log(\`Memory: \${initialMemory} â†’ \${finalMemory} (\${finalMemory - initialMemory} bytes)\`);
}

// Run all tests
async function runAllTests() {
  await testConcurrentRequests();
  await testLargePayload();
  await testRapidFire();
  await testMalformedInputs();
  await testStreamingConnection();
  await testMemoryLeak();
  console.log('âœ… All tests complete!');
}

runAllTests();</code></pre>

            <h3>Expected Failures & Fixes</h3>
            <table>
                <tr><th>Test</th><th>Expected Failure</th><th>Fix Required</th><th>Priority</th></tr>
                <tr><td>Concurrent Requests</td><td>Rate limit errors from AI providers</td><td>Request queuing, retry logic</td><td><span class="badge red">HIGH</span></td></tr>
                <tr><td>Large Payload</td><td>413 Payload Too Large</td><td>Payload size validation</td><td><span class="badge orange">MEDIUM</span></td></tr>
                <tr><td>Rapid Fire</td><td>429 Too Many Requests</td><td>Rate limiting on backend</td><td><span class="badge red">HIGH</span></td></tr>
                <tr><td>Malformed Input</td><td>500 Internal Server Error</td><td>Input validation, sanitization</td><td><span class="badge red">HIGH</span></td></tr>
                <tr><td>Streaming Abort</td><td>Connection not cleaned up</td><td>AbortController handling</td><td><span class="badge orange">MEDIUM</span></td></tr>
                <tr><td>Memory Leak</td><td>Memory grows unbounded</td><td>Proper cleanup, WeakRefs</td><td><span class="badge orange">MEDIUM</span></td></tr>
            </table>
        </section>

        <!-- ERROR CATALOG SECTION -->
        <section id="errors" class="section">
            <h2>ğŸ“‹ Complete Error Catalog</h2>
            
            <h3>API Provider Errors</h3>
            <div class="grid">
                <div class="card critical">
                    <h4>401 - Authentication Error</h4>
                    <p><strong>Cause:</strong> Invalid or expired API key</p>
                    <p><strong>Providers:</strong> All</p>
                    <p><strong>Fix:</strong> Verify API key, regenerate if needed</p>
                    <p><strong>User Message:</strong> "Authentication failed. Please check your API key."</p>
                </div>
                <div class="card critical">
                    <h4>429 - Rate Limit Exceeded</h4>
                    <p><strong>Cause:</strong> Too many requests in short time</p>
                    <p><strong>Providers:</strong> OpenAI, Anthropic, Gemini</p>
                    <p><strong>Fix:</strong> Implement exponential backoff, request queuing</p>
                    <p><strong>User Message:</strong> "Too many requests. Retrying in X seconds..."</p>
                </div>
                <div class="card warning">
                    <h4>500 - Internal Server Error</h4>
                    <p><strong>Cause:</strong> Provider-side issue</p>
                    <p><strong>Providers:</strong> All</p>
                    <p><strong>Fix:</strong> Retry with backoff, fallback to another provider</p>
                    <p><strong>User Message:</strong> "Service temporarily unavailable. Retrying..."</p>
                </div>
                <div class="card warning">
                    <h4>503 - Service Unavailable</h4>
                    <p><strong>Cause:</strong> Provider overloaded or maintenance</p>
                    <p><strong>Providers:</strong> All</p>
                    <p><strong>Fix:</strong> Retry later, show status page link</p>
                    <p><strong>User Message:</strong> "Service is temporarily down. Please try again later."</p>
                </div>
            </div>

            <h3>Provider-Specific Errors</h3>
            <table>
                <tr><th>Provider</th><th>Error</th><th>Code</th><th>Cause</th><th>Solution</th></tr>
                <tr><td>OpenAI</td><td>context_length_exceeded</td><td>400</td><td>Prompt too long</td><td>Truncate or summarize input</td></tr>
                <tr><td>OpenAI</td><td>insufficient_quota</td><td>429</td><td>Billing limit reached</td><td>Add credits, notify user</td></tr>
                <tr><td>Anthropic</td><td>overloaded_error</td><td>529</td><td>Claude is busy</td><td>Retry with backoff</td></tr>
                <tr><td>Anthropic</td><td>invalid_request_error</td><td>400</td><td>Malformed request</td><td>Validate request format</td></tr>
                <tr><td>Gemini</td><td>RESOURCE_EXHAUSTED</td><td>429</td><td>Quota exceeded</td><td>Wait or upgrade plan</td></tr>
                <tr><td>Gemini</td><td>INVALID_ARGUMENT</td><td>400</td><td>Bad parameters</td><td>Check model name, params</td></tr>
                <tr><td>DeepSeek</td><td>model_not_found</td><td>404</td><td>Invalid model</td><td>Use correct model ID</td></tr>
                <tr><td>Mistral</td><td>TooManyRequestsError</td><td>429</td><td>Rate limited</td><td>Implement backoff</td></tr>
                <tr><td>Perplexity</td><td>invalid_api_key</td><td>401</td><td>Bad API key</td><td>Regenerate key</td></tr>
                <tr><td>Groq</td><td>rate_limit_exceeded</td><td>429</td><td>Free tier limit</td><td>Wait or upgrade</td></tr>
            </table>

            <h3>Frontend Errors</h3>
            <table>
                <tr><th>Error</th><th>Cause</th><th>Impact</th><th>Fix</th></tr>
                <tr><td>ChunkLoadError</td><td>Network issue during lazy load</td><td>Component won't render</td><td>Retry logic, error boundary</td></tr>
                <tr><td>ResizeObserver loop</td><td>Infinite resize loop</td><td>Console spam, performance</td><td>Debounce resize handlers</td></tr>
                <tr><td>Maximum call stack</td><td>Infinite recursion</td><td>App crash</td><td>Fix recursive component</td></tr>
                <tr><td>Out of memory</td><td>Large response, memory leak</td><td>Tab crash</td><td>Pagination, cleanup</td></tr>
                <tr><td>CORS error</td><td>Missing headers</td><td>API calls fail</td><td>Backend proxy</td></tr>
            </table>

            <h3>Export Errors</h3>
            <table>
                <tr><th>Error</th><th>Cause</th><th>Fix</th></tr>
                <tr><td>PDF generation failed</td><td>pdfMake error, large content</td><td>Chunk content, error handling</td></tr>
                <tr><td>Word images missing</td><td>Base64 encoding issue</td><td>Validate image data format</td></tr>
                <tr><td>Chart not captured</td><td>SVG not rendered yet</td><td>Wait for render, use html2canvas</td></tr>
                <tr><td>Clipboard write failed</td><td>Permissions, HTTPS required</td><td>Fallback to textarea copy</td></tr>
            </table>
        </section>

        <!-- TIMELINE SECTION -->
        <section id="timeline" class="section">
            <h2>ğŸ“… 12-Day Sprint Timeline</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Click each day to expand and see detailed tasks, test cases, and potential errors.</p>
            
            <!-- DAY 1-2 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ“¦ Day 1-2: Backend Proxy Setup</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Create secure API proxy server <span class="hours-badge">8-12 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Set up Vercel project</div>
                            <div class="card">â˜ Create /api/chat endpoint</div>
                            <div class="card">â˜ Add environment variables</div>
                            <div class="card">â˜ Create proxy for each provider</div>
                            <div class="card">â˜ Test OpenAI connection</div>
                            <div class="card">â˜ Test Anthropic connection</div>
                            <div class="card">â˜ Test Gemini connection</div>
                            <div class="card">â˜ Test all other providers</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-1.1: Verify proxy forwards requests correctly</h5>
                            <p>Send POST to /api/chat/openai with valid payload â†’ Should return AI response</p>
                            <div class="code-block">curl -X POST http://localhost:3000/api/chat/openai -H "Content-Type: application/json" -d '{"prompt":"Hello"}'</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-1.2: Verify environment variables are loaded</h5>
                            <p>Check process.env.OPENAI_API_KEY exists â†’ Should not be undefined</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-1.3: Test invalid provider</h5>
                            <p>Send POST to /api/chat/invalid â†’ Should return 400 Bad Request</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-1.4: Test missing API key</h5>
                            <p>Remove env var, send request â†’ Should return 500 with clear error</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>ECONNREFUSED</code> - Cannot connect to AI provider<br>
                            <strong>Cause:</strong> Network issue, firewall, or wrong URL<br>
                            <strong>Fix:</strong> Check network, verify API endpoint URLs
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>401 Unauthorized</code> from provider<br>
                            <strong>Cause:</strong> API key not set or invalid<br>
                            <strong>Fix:</strong> Verify env vars in Vercel dashboard
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>MODULE_NOT_FOUND</code> - Cannot find module 'express'<br>
                            <strong>Cause:</strong> Dependencies not installed<br>
                            <strong>Fix:</strong> Run npm install, check package.json
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>CORS blocked</code> in browser<br>
                            <strong>Cause:</strong> Missing CORS headers on proxy<br>
                            <strong>Fix:</strong> Add cors middleware with proper origin
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Working /api/chat endpoint that proxies to all AI providers
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 3 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ”§ Day 3: Frontend Refactor</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Remove hardcoded keys, use proxy <span class="hours-badge">6-8 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Remove DEFAULT_API_KEYS object</div>
                            <div class="card">â˜ Update streaming-client.ts</div>
                            <div class="card">â˜ Remove dangerouslyAllowBrowser</div>
                            <div class="card">â˜ Update fetch URLs to proxy</div>
                            <div class="card">â˜ Test each provider via proxy</div>
                            <div class="card">â˜ Verify bundle has no keys</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-3.1: Verify no API keys in bundle</h5>
                            <p>Run build, search dist/ for "sk-" â†’ Should find 0 matches</p>
                            <div class="code-block">npm run build && grep -r "sk-" dist/</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-3.2: Test streaming still works</h5>
                            <p>Send prompt, verify streaming response renders correctly</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-3.3: Test all 12 AI providers</h5>
                            <p>Enable each engine, send prompt â†’ All should respond</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-3.4: Verify DevTools shows no keys</h5>
                            <p>Open Network tab, inspect requests â†’ No Authorization headers with real keys</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>TypeError: Cannot read property 'apiKey' of undefined</code><br>
                            <strong>Cause:</strong> Code still expects apiKey in engine object<br>
                            <strong>Fix:</strong> Update all references to use proxy instead
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Failed to fetch</code> in browser<br>
                            <strong>Cause:</strong> Proxy URL wrong or not running<br>
                            <strong>Fix:</strong> Check proxy is deployed, URL is correct
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Streaming not working</code><br>
                            <strong>Cause:</strong> Proxy not forwarding SSE correctly<br>
                            <strong>Fix:</strong> Add proper headers for streaming response
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Frontend with zero API keys, all calls through proxy
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 4 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ›¡ï¸ Day 4: Rate Limiting & Security</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Protect against abuse <span class="hours-badge">4-6 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Install express-rate-limit</div>
                            <div class="card">â˜ Configure 100 req/15min limit</div>
                            <div class="card">â˜ Add input validation</div>
                            <div class="card">â˜ Sanitize user inputs</div>
                            <div class="card">â˜ Set up proper CORS</div>
                            <div class="card">â˜ Add request size limits</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-4.1: Rate limit triggers correctly</h5>
                            <p>Send 101 requests rapidly â†’ 101st should return 429</p>
                            <div class="code-block">for i in {1..101}; do curl -X POST /api/chat -d '{}'; done</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-4.2: XSS attack blocked</h5>
                            <p>Send &lt;script&gt;alert('xss')&lt;/script&gt; as prompt â†’ Should be sanitized</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-4.3: SQL injection blocked</h5>
                            <p>Send '; DROP TABLE users; -- â†’ Should be treated as plain text</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-4.4: Large payload rejected</h5>
                            <p>Send 50MB payload â†’ Should return 413 Payload Too Large</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-4.5: CORS blocks unauthorized origins</h5>
                            <p>Request from evil.com â†’ Should be blocked</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>429 Too Many Requests</code> for legitimate users<br>
                            <strong>Cause:</strong> Rate limit too aggressive<br>
                            <strong>Fix:</strong> Increase limit or add per-user tracking
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>CORS error</code> on production domain<br>
                            <strong>Cause:</strong> Production URL not in allowed origins<br>
                            <strong>Fix:</strong> Add production domain to CORS whitelist
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>413 Request Entity Too Large</code> for valid requests<br>
                            <strong>Cause:</strong> Limit too small for file uploads<br>
                            <strong>Fix:</strong> Increase limit for specific endpoints
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Protected API with rate limiting and input validation
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 5 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ“Š Day 5: Error Monitoring</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Set up production monitoring <span class="hours-badge">4-6 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Create Sentry account</div>
                            <div class="card">â˜ Install @sentry/react</div>
                            <div class="card">â˜ Add ErrorBoundary components</div>
                            <div class="card">â˜ Configure alert rules</div>
                            <div class="card">â˜ Test error capture</div>
                            <div class="card">â˜ Set up Slack/email alerts</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-5.1: Verify errors are captured</h5>
                            <p>Throw intentional error â†’ Should appear in Sentry dashboard</p>
                            <div class="code-block">throw new Error('Test Sentry Integration');</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-5.2: ErrorBoundary catches crashes</h5>
                            <p>Cause component crash â†’ Should show fallback UI, not white screen</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-5.3: API errors are logged</h5>
                            <p>Trigger 500 error â†’ Should capture with context</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-5.4: Alerts fire correctly</h5>
                            <p>Trigger critical error â†’ Should receive Slack/email notification</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Sentry DSN not configured</code><br>
                            <strong>Cause:</strong> Missing SENTRY_DSN environment variable<br>
                            <strong>Fix:</strong> Add DSN to .env and Vercel env vars
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Source maps not uploading</code><br>
                            <strong>Cause:</strong> Build not configured for source maps<br>
                            <strong>Fix:</strong> Add Sentry Vite plugin, configure auth token
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Too many events</code> - quota exceeded<br>
                            <strong>Cause:</strong> Noisy errors flooding Sentry<br>
                            <strong>Fix:</strong> Add sampling, filter known issues
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Real-time error tracking with alerts
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 6 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ§¹ Day 6: Code Cleanup</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Remove dead code, add linting <span class="hours-badge">4-6 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Delete BarChart.tsx (unused)</div>
                            <div class="card">â˜ Delete ChartCodeRenderer.tsx</div>
                            <div class="card">â˜ Delete StreamingRenderer.tsx</div>
                            <div class="card">â˜ Install ESLint + plugins</div>
                            <div class="card">â˜ Fix critical lint errors</div>
                            <div class="card">â˜ Remove console.log statements</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-6.1: Build succeeds after deletion</h5>
                            <p>Delete unused files, run build â†’ Should complete without errors</p>
                            <div class="code-block">rm src/components/BarChart.tsx && npm run build</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-6.2: ESLint passes</h5>
                            <p>Run lint â†’ Should have 0 errors (warnings OK)</p>
                            <div class="code-block">npm run lint</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-6.3: No console.log in production</h5>
                            <p>Search build output â†’ Should find 0 console.log calls</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-6.4: App still functions</h5>
                            <p>Test all features after cleanup â†’ Everything should work</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Module not found</code> after deletion<br>
                            <strong>Cause:</strong> Deleted file was actually imported somewhere<br>
                            <strong>Fix:</strong> Search for imports before deleting, update references
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>100+ lint errors</code><br>
                            <strong>Cause:</strong> Strict rules on existing code<br>
                            <strong>Fix:</strong> Start with --fix, disable non-critical rules
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>'any' type warnings</code> (50+)<br>
                            <strong>Cause:</strong> TypeScript strict mode<br>
                            <strong>Fix:</strong> Add proper types gradually, use eslint-disable for now
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Clean, linted codebase with no dead code
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 7 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>âš¡ Day 7: Code Splitting</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Optimize bundle size <span class="hours-badge">4-6 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Add React.lazy imports</div>
                            <div class="card">â˜ Wrap with Suspense</div>
                            <div class="card">â˜ Configure Vite chunks</div>
                            <div class="card">â˜ Lazy load ECharts</div>
                            <div class="card">â˜ Lazy load Mermaid</div>
                            <div class="card">â˜ Measure bundle size</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-7.1: Initial bundle size reduced</h5>
                            <p>Compare before/after â†’ Should be &lt;500KB initial</p>
                            <div class="code-block">npm run build && ls -la dist/assets/*.js</div>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-7.2: Lazy components load on demand</h5>
                            <p>Open Network tab, navigate to charts â†’ Should see new chunk load</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-7.3: Suspense fallback shows</h5>
                            <p>Throttle network, load lazy component â†’ Should see loading state</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-7.4: No functionality broken</h5>
                            <p>Test all features â†’ Charts, exports, AI calls all work</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>ChunkLoadError</code> - Loading chunk X failed<br>
                            <strong>Cause:</strong> Network issue or cache problem<br>
                            <strong>Fix:</strong> Add error boundary with retry button
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Suspense boundary required</code><br>
                            <strong>Cause:</strong> Lazy component without Suspense wrapper<br>
                            <strong>Fix:</strong> Wrap lazy imports with Suspense
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Cannot use import statement</code><br>
                            <strong>Cause:</strong> Dynamic import syntax issue<br>
                            <strong>Fix:</strong> Use correct lazy(() => import('./Component'))
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Faster initial load, chunked bundles
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 8 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ§ª Day 8: Comprehensive Testing</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Run all stress tests <span class="hours-badge">6-8 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Run concurrent request test</div>
                            <div class="card">â˜ Test malformed inputs</div>
                            <div class="card">â˜ Verify rate limiting</div>
                            <div class="card">â˜ Test PDF export</div>
                            <div class="card">â˜ Test Word export</div>
                            <div class="card">â˜ Test clipboard copy</div>
                            <div class="card">â˜ Test file upload</div>
                            <div class="card">â˜ Test all 12 AI providers</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.1: 50 concurrent requests</h5>
                            <p>Fire 50 requests simultaneously â†’ All should complete or gracefully fail</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.2: 1MB prompt payload</h5>
                            <p>Send massive prompt â†’ Should reject with clear error</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.3: PDF with charts exports</h5>
                            <p>Generate response with Mermaid chart, export PDF â†’ Chart should render</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.4: Word with images exports</h5>
                            <p>Export to Word with charts â†’ Images should be embedded</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.5: Streaming interruption</h5>
                            <p>Start streaming, close tab â†’ No memory leak, clean shutdown</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-8.6: Provider failover</h5>
                            <p>Disable one provider â†’ Error shown, other providers still work</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Memory leak detected</code><br>
                            <strong>Cause:</strong> Streaming connections not cleaned up<br>
                            <strong>Fix:</strong> Add AbortController, cleanup on unmount
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>PDF generation timeout</code><br>
                            <strong>Cause:</strong> Large content or complex charts<br>
                            <strong>Fix:</strong> Add timeout handling, chunk large documents
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Export button unresponsive</code><br>
                            <strong>Cause:</strong> UI blocked during export<br>
                            <strong>Fix:</strong> Use Web Workers or show loading state
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Test report with all issues documented and fixed
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 9 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ” Day 9: Authentication (Optional)</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Add user login if needed <span class="hours-badge">6-8 hours</span></p>
                        <p style="color: #ed8936; margin: 10px 0;">âš ï¸ Skip if internal/trusted users only launch</p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Create Clerk/Supabase account</div>
                            <div class="card">â˜ Install auth SDK</div>
                            <div class="card">â˜ Add ClerkProvider wrapper</div>
                            <div class="card">â˜ Create login/signup pages</div>
                            <div class="card">â˜ Protect API routes</div>
                            <div class="card">â˜ Add UserButton component</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-9.1: Unauthenticated user blocked</h5>
                            <p>Visit app without login â†’ Should redirect to login page</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-9.2: Login flow works</h5>
                            <p>Enter credentials â†’ Should authenticate and redirect to app</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-9.3: API routes protected</h5>
                            <p>Call /api/chat without token â†’ Should return 401</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-9.4: Session persists</h5>
                            <p>Login, close browser, reopen â†’ Should still be logged in</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-9.5: Logout works</h5>
                            <p>Click logout â†’ Should clear session, redirect to login</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>CLERK_PUBLISHABLE_KEY not found</code><br>
                            <strong>Cause:</strong> Missing environment variable<br>
                            <strong>Fix:</strong> Add key to .env.local and Vercel
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Redirect loop</code> on login<br>
                            <strong>Cause:</strong> Auth check misconfigured<br>
                            <strong>Fix:</strong> Exclude login page from auth middleware
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>CORS error</code> on auth callback<br>
                            <strong>Cause:</strong> Callback URL not whitelisted<br>
                            <strong>Fix:</strong> Add production URL to Clerk dashboard
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Working authentication with protected routes
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 10 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸš€ Day 10: Production Deploy</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Deploy to Vercel <span class="hours-badge">4-6 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Final local build test</div>
                            <div class="card">â˜ Push to GitHub</div>
                            <div class="card">â˜ Connect Vercel to repo</div>
                            <div class="card">â˜ Set environment variables</div>
                            <div class="card">â˜ Deploy to production</div>
                            <div class="card">â˜ Configure custom domain</div>
                            <div class="card">â˜ Verify SSL certificate</div>
                            <div class="card">â˜ Test production URL</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-10.1: Build succeeds on Vercel</h5>
                            <p>Push code â†’ Vercel build should complete without errors</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-10.2: Environment variables loaded</h5>
                            <p>Check API calls â†’ Should use production API keys</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-10.3: Custom domain works</h5>
                            <p>Visit onemindai.com â†’ Should load the app</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-10.4: HTTPS enforced</h5>
                            <p>Visit http:// â†’ Should redirect to https://</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-10.5: API proxy works in production</h5>
                            <p>Send AI request â†’ Should return response (not CORS error)</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Build failed</code> on Vercel<br>
                            <strong>Cause:</strong> TypeScript errors, missing deps<br>
                            <strong>Fix:</strong> Check build logs, fix errors locally first
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Function timeout</code> on API routes<br>
                            <strong>Cause:</strong> AI response takes too long<br>
                            <strong>Fix:</strong> Increase timeout in vercel.json, use streaming
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>DNS not propagated</code><br>
                            <strong>Cause:</strong> Domain just configured<br>
                            <strong>Fix:</strong> Wait 24-48 hours, or use Vercel subdomain
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Mixed content</code> warnings<br>
                            <strong>Cause:</strong> HTTP resources on HTTPS page<br>
                            <strong>Fix:</strong> Update all URLs to use https://
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Live production URL with SSL
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 11 -->
            <div class="day-card" onclick="this.classList.toggle('open')">
                <button class="day-header-btn">
                    <span>ğŸ” Day 11: Production Smoke Testing</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> Test everything in production <span class="hours-badge">6-8 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Tasks</h4>
                        <div class="task-grid">
                            <div class="card">â˜ Test OpenAI provider</div>
                            <div class="card">â˜ Test Anthropic provider</div>
                            <div class="card">â˜ Test Gemini provider</div>
                            <div class="card">â˜ Test all other providers</div>
                            <div class="card">â˜ Test PDF export</div>
                            <div class="card">â˜ Test Word export</div>
                            <div class="card">â˜ Test on iPhone</div>
                            <div class="card">â˜ Test on Android</div>
                            <div class="card">â˜ Test on Chrome</div>
                            <div class="card">â˜ Test on Firefox</div>
                            <div class="card">â˜ Test on Safari</div>
                            <div class="card">â˜ Fix production bugs</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Test Cases</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.1: All 12 AI providers respond</h5>
                            <p>Enable each provider, send prompt â†’ All should return responses</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.2: Mobile responsive</h5>
                            <p>Open on phone â†’ UI should be usable, no horizontal scroll</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.3: Export works on production</h5>
                            <p>Export PDF/Word â†’ Files should download correctly</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.4: Charts render in production</h5>
                            <p>Generate Mermaid chart â†’ Should render, not show code</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.5: Error messages user-friendly</h5>
                            <p>Trigger error â†’ Should show helpful message, not stack trace</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-11.6: Performance acceptable</h5>
                            <p>Lighthouse audit â†’ Should score 70+ on performance</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Potential Errors</h4>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Works locally, fails in production</code><br>
                            <strong>Cause:</strong> Environment differences, missing env vars<br>
                            <strong>Fix:</strong> Check Vercel logs, verify all env vars set
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Mobile layout broken</code><br>
                            <strong>Cause:</strong> CSS not responsive<br>
                            <strong>Fix:</strong> Add media queries, test with DevTools
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Safari-specific bugs</code><br>
                            <strong>Cause:</strong> WebKit differences<br>
                            <strong>Fix:</strong> Add -webkit prefixes, test on real Safari
                        </div>
                        <div class="error-item">
                            <strong>Error:</strong> <code>Slow on mobile</code><br>
                            <strong>Cause:</strong> Large bundle, no optimization<br>
                            <strong>Fix:</strong> Verify code splitting working, reduce assets
                        </div>

                        <div class="fix-item">
                            <strong>âœ… Deliverable:</strong> Production-ready app tested on all platforms
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAY 12 -->
            <div class="day-card" onclick="this.classList.toggle('open')" style="border: 2px solid #48bb78;">
                <button class="day-header-btn" style="background: linear-gradient(135deg, rgba(72,187,120,0.4), rgba(56,161,105,0.4));">
                    <span>ğŸ‰ Day 12: LAUNCH DAY!</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="day-content">
                    <div class="day-inner">
                        <p><strong>Goal:</strong> GO LIVE! <span class="hours-badge" style="background: linear-gradient(135deg, #48bb78, #38a169);">4 hours</span></p>
                        
                        <h4 style="color: #f093fb; margin: 20px 0 10px;">ğŸ“‹ Final Checklist</h4>
                        <div class="task-grid">
                            <div class="card" style="border-left-color: #48bb78;">â˜ All tests passing</div>
                            <div class="card" style="border-left-color: #48bb78;">â˜ Sentry monitoring active</div>
                            <div class="card" style="border-left-color: #48bb78;">â˜ API cost alerts set</div>
                            <div class="card" style="border-left-color: #48bb78;">â˜ Backup plan ready</div>
                            <div class="card" style="border-left-color: #48bb78;">â˜ Support channel ready</div>
                            <div class="card" style="border-left-color: #48bb78;">â˜ Share with users!</div>
                        </div>

                        <h4 style="color: #4299e1; margin: 20px 0 10px;">ğŸ§ª Launch Day Tests</h4>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-12.1: Final sanity check</h5>
                            <p>Send one prompt to each provider â†’ All should respond</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-12.2: Monitoring working</h5>
                            <p>Check Sentry dashboard â†’ Should show app is live</p>
                        </div>
                        <div class="test-case">
                            <h5>ğŸ”¬ TC-12.3: First real user test</h5>
                            <p>Have someone else use the app â†’ Get feedback</p>
                        </div>

                        <h4 style="color: #f56565; margin: 20px 0 10px;">âš ï¸ Launch Day Risks</h4>
                        <div class="error-item">
                            <strong>Risk:</strong> <code>Traffic spike</code><br>
                            <strong>Mitigation:</strong> Vercel auto-scales, but monitor closely<br>
                            <strong>Fallback:</strong> Enable rate limiting if needed
                        </div>
                        <div class="error-item">
                            <strong>Risk:</strong> <code>API costs spike</code><br>
                            <strong>Mitigation:</strong> Set billing alerts on all providers<br>
                            <strong>Fallback:</strong> Disable expensive models if needed
                        </div>
                        <div class="error-item">
                            <strong>Risk:</strong> <code>Critical bug discovered</code><br>
                            <strong>Mitigation:</strong> Have rollback plan ready<br>
                            <strong>Fallback:</strong> Revert to previous deployment
                        </div>

                        <div class="fix-item" style="background: rgba(72,187,120,0.2); border-color: #48bb78;">
                            <strong>ğŸ‰ DELIVERABLE:</strong> LIVE APPLICATION - OneMindAI is now available to users!
                        </div>

                        <h4 style="color: #48bb78; margin: 20px 0 10px;">ğŸ“Š Post-Launch Monitoring</h4>
                        <ul style="color: #cbd5e0;">
                            <li>Watch Sentry for errors (first 24 hours critical)</li>
                            <li>Monitor API costs hourly</li>
                            <li>Check Vercel analytics for traffic</li>
                            <li>Respond to user feedback quickly</li>
                            <li>Be ready to hotfix if needed</li>
                        </ul>
                    </div>
                </div>
            </div>

        </section>

        <!-- ADMIN PANEL SECTION -->
        <section id="admin" class="section">
            <h2>ğŸ‘‘ Admin Panel Architecture</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Comprehensive admin dashboard for managing users, costs, and system health.</p>

            <div class="grid">
                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“Š Overview Dashboard</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Total Users: Real-time count</li>
                        <li>Active Today: Current session count</li>
                        <li>Total Requests: API call volume</li>
                        <li>Total Cost Today: Aggregated spend</li>
                        <li>System Health: Uptime, errors, latency</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ‘¥ User Management</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>List all users (email, tier, status)</li>
                        <li>Search & filter capabilities</li>
                        <li>Suspend/Activate accounts</li>
                        <li>View individual usage history</li>
                        <li>Adjust credit balances</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ’° Cost Management</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Per-provider cost breakdown</li>
                        <li>Daily/Weekly/Monthly trends</li>
                        <li>Cost per user analytics</li>
                        <li>Budget alerts configuration</li>
                        <li>Refund management</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">âš™ï¸ System Settings</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Rate limits per tier</li>
                        <li>Enable/Disable AI providers</li>
                        <li>Feature flags management</li>
                        <li>API key rotation</li>
                        <li>Maintenance mode toggle</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Database Schema for Admin Panel</h3>
            <div class="code-block" style="margin-top: 15px;">
-- Admin Panel Core Tables
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  tier VARCHAR(20) DEFAULT 'free',
  credits_balance INTEGER DEFAULT 100,
  is_admin BOOLEAN DEFAULT FALSE,
  status VARCHAR(20) DEFAULT 'active',
  created_at TIMESTAMP DEFAULT NOW(),
  last_login TIMESTAMP
);

CREATE TABLE usage_logs (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  provider VARCHAR(50) NOT NULL,
  tokens_in INTEGER,
  tokens_out INTEGER,
  credits_used INTEGER,
  cost_usd DECIMAL(10, 6),
  created_at TIMESTAMP DEFAULT NOW()
);

-- Indexes for admin queries
CREATE INDEX idx_usage_user_date ON usage_logs(user_id, created_at);
CREATE INDEX idx_users_tier ON users(tier);
CREATE INDEX idx_users_status ON users(status);
            </div>

            <h3 style="margin-top: 30px;">Admin Panel Routes</h3>
            <div class="task-grid" style="margin-top: 15px;">
                <div class="card">
                    <strong>GET /api/admin/users</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">List all users with filters</span>
                </div>
                <div class="card">
                    <strong>GET /api/admin/stats</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Dashboard statistics</span>
                </div>
                <div class="card">
                    <strong>POST /api/admin/users/:id/suspend</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Suspend user account</span>
                </div>
                <div class="card">
                    <strong>GET /api/admin/costs</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Cost analytics</span>
                </div>
                <div class="card">
                    <strong>POST /api/admin/credits/adjust</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Adjust user credits</span>
                </div>
                <div class="card">
                    <strong>GET /api/admin/usage/:userId</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">User usage details</span>
                </div>
            </div>

            <h3 style="margin-top: 40px;">ğŸ“¢ User Feedback & Feature Request System</h3>
            <p style="color: #a0aec0; margin-bottom: 20px;">Dynamic priority management based on user feedback frequency and request count.</p>

            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="margin-top: 0; color: white;">ğŸ¯ Smart Priority System</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px;">
                        <h5 style="color: #fbbf24; margin-top: 0;">âš¡ Auto-Priority Escalation</h5>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0;">
                            Features automatically move from Priority 3 â†’ Priority 1 based on:<br>
                            â€¢ <strong>Request Count:</strong> >50 requests<br>
                            â€¢ <strong>Frequency:</strong> >10 requests/day<br>
                            â€¢ <strong>User Impact:</strong> Affects >100 users<br>
                            â€¢ <strong>Trend:</strong> 200% increase in 7 days
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px;">
                        <h5 style="color: #34d399; margin-top: 0;">ğŸ“Š Request Analytics</h5>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0;">
                            Real-time tracking of:<br>
                            â€¢ Total requests per feature<br>
                            â€¢ Daily/Weekly trends<br>
                            â€¢ User demographics<br>
                            â€¢ Sentiment analysis (positive/negative)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px;">
                        <h5 style="color: #f472b6; margin-top: 0;">ğŸ”” Admin Notifications</h5>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0;">
                            Instant alerts when:<br>
                            â€¢ Feature hits escalation threshold<br>
                            â€¢ Critical bug reported >5 times<br>
                            â€¢ New trending request detected<br>
                            â€¢ Priority change occurs
                        </p>
                    </div>
                </div>
            </div>

            <h4>ğŸ“ Feedback Popup Interface</h4>
            <div style="background: #1a1a2e; padding: 25px; border-radius: 12px; margin-bottom: 30px; border: 2px solid #667eea;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h5 style="color: #667eea; margin: 0;">ğŸ’¬ Share Your Feedback</h5>
                    <button style="background: transparent; border: none; color: #a0aec0; font-size: 1.5em; cursor: pointer;">Ã—</button>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Feedback Type *</label>
                    <select style="width: 100%; padding: 12px; background: #0f172a; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 1em;">
                        <option>ğŸ› Bug Report</option>
                        <option>âœ¨ Feature Request</option>
                        <option>ğŸ’¡ Improvement Suggestion</option>
                        <option>â“ Question/Support</option>
                        <option>ğŸ‘ Positive Feedback</option>
                    </select>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Category *</label>
                    <select style="width: 100%; padding: 12px; background: #0f172a; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 1em;">
                        <option>ğŸ¤– AI Engine Performance</option>
                        <option>ğŸ¨ UI/UX Design</option>
                        <option>âš¡ Speed & Performance</option>
                        <option>ğŸ’° Pricing & Credits</option>
                        <option>ğŸ“± Mobile Experience</option>
                        <option>ğŸ” Security & Privacy</option>
                        <option>ğŸ“¤ Export Features</option>
                        <option>ğŸ”„ Conversation Management</option>
                        <option>âš™ï¸ Settings & Customization</option>
                        <option>ğŸ“Š Analytics & Insights</option>
                    </select>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Priority (Your Opinion)</label>
                    <div style="display: flex; gap: 10px;">
                        <button style="flex: 1; padding: 10px; background: #ef4444; border: none; border-radius: 6px; color: white; cursor: pointer; font-weight: 600;">ğŸ”´ High</button>
                        <button style="flex: 1; padding: 10px; background: #f59e0b; border: none; border-radius: 6px; color: white; cursor: pointer; font-weight: 600;">ğŸŸ¡ Medium</button>
                        <button style="flex: 1; padding: 10px; background: #10b981; border: none; border-radius: 6px; color: white; cursor: pointer; font-weight: 600;">ğŸŸ¢ Low</button>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Title *</label>
                    <input type="text" placeholder="Brief summary of your feedback..." style="width: 100%; padding: 12px; background: #0f172a; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 1em; box-sizing: border-box;">
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Description *</label>
                    <textarea placeholder="Provide detailed information about your feedback..." style="width: 100%; min-height: 120px; padding: 12px; background: #0f172a; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 1em; resize: vertical; box-sizing: border-box;"></textarea>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">Affected Feature/Page (Optional)</label>
                    <input type="text" placeholder="e.g., Chat interface, Settings page, Export PDF..." style="width: 100%; padding: 12px; background: #0f172a; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 1em; box-sizing: border-box;">
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <label style="display: block; color: #a0aec0; margin-bottom: 8px; font-size: 0.9em;">ğŸ“ Attach Screenshot (Optional)</label>
                    <div style="border: 2px dashed rgba(255,255,255,0.3); border-radius: 6px; padding: 30px; text-align: center; cursor: pointer;">
                        <span style="color: #667eea; font-size: 2em;">ğŸ“¤</span><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">Click to upload or drag & drop</span><br>
                        <span style="color: #64748b; font-size: 0.8em;">PNG, JPG up to 5MB</span>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button style="padding: 12px 24px; background: transparent; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: #a0aec0; cursor: pointer; font-size: 1em;">Cancel</button>
                    <button style="padding: 12px 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 6px; color: white; cursor: pointer; font-weight: 600; font-size: 1em;">Submit Feedback</button>
                </div>
            </div>

            <h4>ğŸ“Š Feedback Dashboard Schema</h4>
            <div class="code-block" style="margin-top: 15px;">
-- Feedback & Feature Request Tables
CREATE TABLE feedback_requests (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  type VARCHAR(50) NOT NULL, -- 'bug', 'feature', 'improvement', 'question', 'positive'
  category VARCHAR(100) NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  affected_feature VARCHAR(255),
  user_priority VARCHAR(20), -- 'high', 'medium', 'low'
  admin_priority INTEGER DEFAULT 3, -- 1 (highest) to 3 (lowest)
  status VARCHAR(50) DEFAULT 'pending', -- 'pending', 'reviewing', 'planned', 'in-progress', 'completed', 'rejected'
  request_count INTEGER DEFAULT 1,
  screenshot_url TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE feedback_votes (
  id UUID PRIMARY KEY,
  feedback_id UUID REFERENCES feedback_requests(id),
  user_id UUID REFERENCES users(id),
  vote_type VARCHAR(20) DEFAULT 'upvote', -- 'upvote', 'downvote'
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(feedback_id, user_id)
);

CREATE TABLE feedback_comments (
  id UUID PRIMARY KEY,
  feedback_id UUID REFERENCES feedback_requests(id),
  user_id UUID REFERENCES users(id),
  is_admin BOOLEAN DEFAULT FALSE,
  comment TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE priority_change_log (
  id UUID PRIMARY KEY,
  feedback_id UUID REFERENCES feedback_requests(id),
  old_priority INTEGER,
  new_priority INTEGER,
  reason VARCHAR(255), -- 'auto_escalation', 'manual_admin', 'request_threshold', 'frequency_spike'
  trigger_data JSONB, -- {request_count: 50, daily_frequency: 12, user_impact: 150}
  changed_by UUID REFERENCES users(id),
  created_at TIMESTAMP DEFAULT NOW()
);

-- Indexes for performance
CREATE INDEX idx_feedback_priority ON feedback_requests(admin_priority, status);
CREATE INDEX idx_feedback_category ON feedback_requests(category);
CREATE INDEX idx_feedback_created ON feedback_requests(created_at DESC);
CREATE INDEX idx_votes_feedback ON feedback_votes(feedback_id);
CREATE INDEX idx_priority_log_feedback ON priority_change_log(feedback_id, created_at);
            </div>

            <h4 style="margin-top: 30px;">ğŸ”„ Auto-Priority Escalation Logic</h4>
            <div class="code-block" style="margin-top: 15px;">
-- Function to auto-escalate priority based on metrics
CREATE OR REPLACE FUNCTION check_priority_escalation()
RETURNS TRIGGER AS $$
DECLARE
  daily_requests INTEGER;
  total_votes INTEGER;
  user_impact INTEGER;
  trend_percentage DECIMAL;
BEGIN
  -- Calculate metrics
  SELECT COUNT(*) INTO daily_requests
  FROM feedback_requests
  WHERE title = NEW.title
  AND created_at > NOW() - INTERVAL '1 day';

  SELECT COUNT(*) INTO total_votes
  FROM feedback_votes
  WHERE feedback_id = NEW.id;

  SELECT COUNT(DISTINCT user_id) INTO user_impact
  FROM feedback_requests
  WHERE title = NEW.title;

  -- Escalation Rules
  IF (NEW.request_count >= 50 OR daily_requests >= 10 OR user_impact >= 100) 
     AND NEW.admin_priority > 1 THEN
    
    -- Log priority change
    INSERT INTO priority_change_log (
      feedback_id, old_priority, new_priority, reason, trigger_data
    ) VALUES (
      NEW.id, 
      NEW.admin_priority, 
      1, 
      'auto_escalation',
      jsonb_build_object(
        'request_count', NEW.request_count,
        'daily_frequency', daily_requests,
        'user_impact', user_impact,
        'total_votes', total_votes
      )
    );
    
    -- Update priority
    NEW.admin_priority := 1;
    NEW.updated_at := NOW();
    
    -- Send admin notification (implement via trigger or app logic)
    PERFORM pg_notify('priority_escalation', 
      json_build_object(
        'feedback_id', NEW.id,
        'title', NEW.title,
        'new_priority', 1,
        'metrics', jsonb_build_object(
          'requests', NEW.request_count,
          'daily', daily_requests,
          'users', user_impact
        )
      )::text
    );
  END IF;

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Trigger on feedback updates
CREATE TRIGGER trigger_priority_escalation
BEFORE UPDATE ON feedback_requests
FOR EACH ROW
EXECUTE FUNCTION check_priority_escalation();
            </div>

            <h4 style="margin-top: 30px;">ğŸ“¡ Admin Panel API Routes</h4>
            <div class="task-grid" style="margin-top: 15px;">
                <div class="card">
                    <strong>GET /api/admin/feedback</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">List all feedback with filters (priority, status, category)</span>
                </div>
                <div class="card">
                    <strong>POST /api/feedback/submit</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">User submits new feedback</span>
                </div>
                <div class="card">
                    <strong>GET /api/feedback/trending</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Top requested features (last 7 days)</span>
                </div>
                <div class="card">
                    <strong>POST /api/feedback/:id/vote</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Upvote/downvote feedback</span>
                </div>
                <div class="card">
                    <strong>PUT /api/admin/feedback/:id/priority</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Manually change priority</span>
                </div>
                <div class="card">
                    <strong>GET /api/admin/feedback/:id/changelog</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">View priority change history</span>
                </div>
                <div class="card">
                    <strong>POST /api/admin/feedback/:id/comment</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Admin responds to feedback</span>
                </div>
                <div class="card">
                    <strong>GET /api/feedback/stats</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Analytics dashboard data</span>
                </div>
            </div>

            <h4 style="margin-top: 30px;">ğŸ“ˆ Priority Escalation Thresholds</h4>
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background: rgba(102, 126, 234, 0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 15px; text-align: left;">Metric</th>
                        <th style="padding: 15px; text-align: left;">Priority 3 â†’ 2</th>
                        <th style="padding: 15px; text-align: left;">Priority 2 â†’ 1</th>
                        <th style="padding: 15px; text-align: left;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“Š Total Requests</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">â‰¥ 20</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">â‰¥ 50</strong></td>
                        <td style="padding: 12px;">Auto-escalate + Notify admin</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">âš¡ Daily Frequency</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">â‰¥ 5/day</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">â‰¥ 10/day</strong></td>
                        <td style="padding: 12px;">Auto-escalate + Notify admin</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ‘¥ User Impact</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">â‰¥ 50 users</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">â‰¥ 100 users</strong></td>
                        <td style="padding: 12px;">Auto-escalate + Notify admin</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“ˆ 7-Day Trend</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">+100% growth</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">+200% growth</strong></td>
                        <td style="padding: 12px;">Auto-escalate + Notify admin</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ‘ Upvotes</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">â‰¥ 30 votes</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">â‰¥ 75 votes</strong></td>
                        <td style="padding: 12px;">Auto-escalate + Notify admin</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ› Bug Severity</td>
                        <td style="padding: 12px;"><strong style="color: #f59e0b;">â‰¥ 5 reports</strong></td>
                        <td style="padding: 12px;"><strong style="color: #ef4444;">â‰¥ 10 reports</strong></td>
                        <td style="padding: 12px;">Immediate escalation</td>
                    </tr>
                </tbody>
            </table>

            <h4 style="margin-top: 30px;">ğŸ¨ Feedback Popup Trigger Locations</h4>
            <div class="error-grid">
                <div class="error-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <strong>ğŸ’¬ Floating Button</strong><br>
                    Bottom-right corner, always visible, pulse animation
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <strong>âš™ï¸ Settings Menu</strong><br>
                    Dedicated "Send Feedback" option in user menu
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <strong>âŒ Error Pages</strong><br>
                    Auto-open with pre-filled bug report on errors
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <strong>âŒ¨ï¸ Keyboard Shortcut</strong><br>
                    Ctrl+Shift+F to open feedback popup
                </div>
            </div>
        </section>

        <!-- TESTING DASHBOARD SECTION -->
        <section id="testing" class="section">
            <h2>ğŸ§ª Automated Testing Dashboard</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Comprehensive testing infrastructure for continuous quality assurance.</p>

            <h3>Test Categories</h3>
            <div class="grid">
                <div class="card" style="border-left-color: #4299e1;">
                    <h4 style="color: #4299e1; margin-bottom: 10px;">ğŸ”Œ API Tests</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Authentication flow (login, logout, refresh)</li>
                        <li>Chat completions (single & multi-provider)</li>
                        <li>File upload & processing</li>
                        <li>Conversation CRUD operations</li>
                        <li>Usage analytics endpoints</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #ed8936;">
                    <h4 style="color: #ed8936; margin-bottom: 10px;">âš¡ Stress Tests</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>50 concurrent requests</li>
                        <li>100 concurrent requests</li>
                        <li>500 concurrent requests</li>
                        <li>Large payload (1MB, 10MB, 50MB)</li>
                        <li>Sustained load (1 hour)</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #f56565;">
                    <h4 style="color: #f56565; margin-bottom: 10px;">ğŸ’¥ Error Injection</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Rate limit (429) handling</li>
                        <li>Provider timeout simulation</li>
                        <li>Invalid API key response</li>
                        <li>Network failure scenarios</li>
                        <li>Database connection loss</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #48bb78;">
                    <h4 style="color: #48bb78; margin-bottom: 10px;">ğŸ¯ Integration Tests</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>End-to-end user flows</li>
                        <li>Payment processing (Stripe)</li>
                        <li>Credit system accuracy</li>
                        <li>Export functionality (PDF/Word)</li>
                        <li>Multi-user scenarios</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Testing Dashboard UI</h3>
            <div class="code-block" style="margin-top: 15px;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TESTING DASHBOARD                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ§ª Quick Actions                                               â”‚
â”‚  [Run All Tests] [API Tests] [Stress Tests] [Error Tests]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Test Results (Last Run: 2 minutes ago)                      â”‚
â”‚  â”œâ”€ Total Tests: 50                                             â”‚
â”‚  â”œâ”€ Passed: 45 âœ… (90%)                                         â”‚
â”‚  â”œâ”€ Failed: 5 âŒ (10%)                                           â”‚
â”‚  â””â”€ Duration: 2m 34s                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ Failed Tests                                                 â”‚
â”‚  â”œâ”€ TC-4.2: Rate limit not triggering (Expected 429)           â”‚
â”‚  â”œâ”€ TC-8.3: PDF export timeout > 10s                            â”‚
â”‚  â”œâ”€ TC-11.4: Safari chart rendering issue                       â”‚
â”‚  â””â”€ [View Details] [Re-run] [Mark as Known Issue]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Performance Metrics                                         â”‚
â”‚  â”œâ”€ Avg Response Time: 1.2s                                     â”‚
â”‚  â”œâ”€ P95 Response Time: 3.4s                                     â”‚
â”‚  â”œâ”€ Memory Usage: 245 MB                                        â”‚
â”‚  â”œâ”€ Error Rate: 2.3%                                            â”‚
â”‚  â””â”€ Uptime: 99.87%                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3 style="margin-top: 30px;">Test Automation Scripts</h3>
            <div class="task-grid" style="margin-top: 15px;">
                <div class="card">
                    <strong>npm run test:api</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Run all API endpoint tests</span>
                </div>
                <div class="card">
                    <strong>npm run test:stress</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Execute stress test suite</span>
                </div>
                <div class="card">
                    <strong>npm run test:e2e</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">End-to-end integration tests</span>
                </div>
                <div class="card">
                    <strong>npm run test:watch</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Continuous testing mode</span>
                </div>
                <div class="card">
                    <strong>npm run test:coverage</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Generate coverage report</span>
                </div>
                <div class="card">
                    <strong>npm run test:ci</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">CI/CD pipeline tests</span>
                </div>
            </div>
        </section>

        <!-- CREDIT SYSTEM SECTION -->
        <section id="credits" class="section">
            <h2>ğŸ® Credit System & Gamification</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Motivate users with a credit-based system and gamification rewards.</p>

            <h3>Credit Tiers</h3>
            <div class="grid">
                <div class="card" style="border-left-color: #a0aec0;">
                    <h4 style="color: #a0aec0; margin-bottom: 10px;">ğŸ†“ Free Tier</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li><strong>100 credits/month</strong></li>
                        <li>Credit value: $0.01 per credit</li>
                        <li>Monthly value: $1</li>
                        <li>2 AI providers</li>
                        <li>10 MB file uploads</li>
                        <li>7-day history</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #667eea;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">â­ Pro Tier</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li><strong>5,000 credits/month</strong></li>
                        <li>Credit value: $0.01 per credit</li>
                        <li>Monthly value: $50</li>
                        <li>All 9 AI providers</li>
                        <li>50 MB file uploads</li>
                        <li>Unlimited history</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #f093fb;">
                    <h4 style="color: #f093fb; margin-bottom: 10px;">ğŸš€ Enterprise</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li><strong>50,000+ credits/month</strong></li>
                        <li>Credit value: $0.01 per credit</li>
                        <li>Custom pricing</li>
                        <li>Custom integrations</li>
                        <li>Dedicated support</li>
                        <li>SLA guarantee</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Credit Costs per Provider</h3>
            <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                <thead>
                    <tr style="background: rgba(102,126,234,0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 12px; text-align: left;">AI Provider</th>
                        <th style="padding: 12px; text-align: left;">Model</th>
                        <th style="padding: 12px; text-align: right;">Credits/Request</th>
                        <th style="padding: 12px; text-align: right;">USD Cost</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">OpenAI</td>
                        <td style="padding: 10px;">GPT-4</td>
                        <td style="padding: 10px; text-align: right;"><strong>10</strong></td>
                        <td style="padding: 10px; text-align: right;">$0.10</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">Anthropic</td>
                        <td style="padding: 10px;">Claude-3</td>
                        <td style="padding: 10px; text-align: right;"><strong>8</strong></td>
                        <td style="padding: 10px; text-align: right;">$0.08</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">Google</td>
                        <td style="padding: 10px;">Gemini Pro</td>
                        <td style="padding: 10px; text-align: right;"><strong>5</strong></td>
                        <td style="padding: 10px; text-align: right;">$0.05</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">Mistral</td>
                        <td style="padding: 10px;">Mistral Large</td>
                        <td style="padding: 10px; text-align: right;"><strong>4</strong></td>
                        <td style="padding: 10px; text-align: right;">$0.04</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">DeepSeek</td>
                        <td style="padding: 10px;">DeepSeek Chat</td>
                        <td style="padding: 10px; text-align: right;"><strong>3</strong></td>
                        <td style="padding: 10px; text-align: right;">$0.03</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin-top: 30px;">ğŸ Gamification Bonuses</h3>
            <div class="grid">
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">Daily Login</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+5</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">Credits for logging in daily</p>
                </div>
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">First Prompt</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+10</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">First prompt of the day</p>
                </div>
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">Share Result</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+20</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">Share AI response publicly</p>
                </div>
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">Referral</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+100</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">Per successful referral</p>
                </div>
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">Feedback</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+15</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">Submit helpful feedback</p>
                </div>
                <div class="card" style="background: rgba(72,187,120,0.1);">
                    <h4 style="color: #48bb78;">Streak Bonus</h4>
                    <p style="font-size: 2rem; margin: 10px 0;">+50</p>
                    <p style="color: #a0aec0; font-size: 0.85rem;">7-day login streak</p>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Credit Transaction Schema</h3>
            <div class="code-block" style="margin-top: 15px;">
CREATE TABLE credit_transactions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  amount INTEGER NOT NULL,
  type VARCHAR(20), -- 'usage', 'bonus', 'purchase', 'refund'
  description VARCHAR(255),
  balance_after INTEGER,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Example queries
-- Get user balance
SELECT credits_balance FROM users WHERE id = $1;

-- Deduct credits for usage
UPDATE users 
SET credits_balance = credits_balance - $2 
WHERE id = $1 AND credits_balance >= $2
RETURNING credits_balance;

-- Add bonus credits
INSERT INTO credit_transactions (user_id, amount, type, description)
VALUES ($1, 5, 'bonus', 'Daily login bonus');
            </div>
        </section>

        <!-- COST DISPERSION SECTION -->
        <section id="cost-dispersion" class="section">
            <h2>ğŸ’¸ Cost Dispersion System</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Fair allocation of API costs across engines and intelligent routing.</p>

            <h3>Cost Allocation Strategy</h3>
            <div class="grid">
                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“Š Per-Provider Budgets</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Daily budget per provider</li>
                        <li>Auto-disable when limit reached</li>
                        <li>Alert at 80% threshold</li>
                        <li>Reset at midnight UTC</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ”„ Smart Routing</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Route to cheapest available provider</li>
                        <li>Fallback to next provider on failure</li>
                        <li>Load balance across providers</li>
                        <li>Quality-based routing</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">âš–ï¸ Fair Usage</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Distribute load evenly</li>
                        <li>Prevent single provider overload</li>
                        <li>Track per-user provider usage</li>
                        <li>Enforce tier-based limits</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“ˆ Cost Optimization</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Cache frequent queries</li>
                        <li>Batch similar requests</li>
                        <li>Use cheaper models when possible</li>
                        <li>Monitor cost per user</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Provider Cost Tracking</h3>
            <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                <thead>
                    <tr style="background: rgba(102,126,234,0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 12px; text-align: left;">Provider</th>
                        <th style="padding: 12px; text-align: right;">Daily Budget</th>
                        <th style="padding: 12px; text-align: right;">Current Spend</th>
                        <th style="padding: 12px; text-align: right;">Remaining</th>
                        <th style="padding: 12px; text-align: center;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">OpenAI</td>
                        <td style="padding: 10px; text-align: right;">$50.00</td>
                        <td style="padding: 10px; text-align: right;">$32.45</td>
                        <td style="padding: 10px; text-align: right;">$17.55</td>
                        <td style="padding: 10px; text-align: center;"><span style="background: rgba(72,187,120,0.3); padding: 4px 12px; border-radius: 12px; font-size: 0.85rem;">âœ… Active</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">Anthropic</td>
                        <td style="padding: 10px; text-align: right;">$40.00</td>
                        <td style="padding: 10px; text-align: right;">$38.20</td>
                        <td style="padding: 10px; text-align: right;">$1.80</td>
                        <td style="padding: 10px; text-align: center;"><span style="background: rgba(237,137,54,0.3); padding: 4px 12px; border-radius: 12px; font-size: 0.85rem;">âš ï¸ Warning</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">Google</td>
                        <td style="padding: 10px; text-align: right;">$30.00</td>
                        <td style="padding: 10px; text-align: right;">$18.75</td>
                        <td style="padding: 10px; text-align: right;">$11.25</td>
                        <td style="padding: 10px; text-align: center;"><span style="background: rgba(72,187,120,0.3); padding: 4px 12px; border-radius: 12px; font-size: 0.85rem;">âœ… Active</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 10px;">DeepSeek</td>
                        <td style="padding: 10px; text-align: right;">$20.00</td>
                        <td style="padding: 10px; text-align: right;">$20.00</td>
                        <td style="padding: 10px; text-align: right;">$0.00</td>
                        <td style="padding: 10px; text-align: center;"><span style="background: rgba(245,101,101,0.3); padding: 4px 12px; border-radius: 12px; font-size: 0.85rem;">ğŸ”´ Limit</span></td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin-top: 30px;">Cost Dispersion Logic</h3>
            <div class="code-block" style="margin-top: 15px;">
// Smart routing based on cost and availability
async function selectProvider(prompt, userTier) {
  const providers = await getAvailableProviders();
  
  // Filter by budget availability
  const withinBudget = providers.filter(p => 
    p.dailySpend < p.dailyLimit
  );
  
  // Sort by cost (cheapest first)
  const sorted = withinBudget.sort((a, b) => 
    a.costPerRequest - b.costPerRequest
  );
  
  // For Pro/Enterprise, prefer quality over cost
  if (userTier !== 'free') {
    return sorted.find(p => p.quality === 'high') || sorted[0];
  }
  
  // For free tier, use cheapest
  return sorted[0];
}

// Track costs in real-time
async function trackCost(userId, provider, cost) {
  // Update user spend
  await db.query(`
    UPDATE users 
    SET monthly_spend = monthly_spend + $1 
    WHERE id = $2
  `, [cost, userId]);
  
  // Update provider daily spend
  await redis.hincrby(`costs:${provider}:daily`, 'spend', cost);
  
  // Check if limit reached
  const dailySpend = await redis.hget(`costs:${provider}:daily`, 'spend');
  const dailyLimit = await getProviderLimit(provider);
  
  if (dailySpend >= dailyLimit) {
    await disableProvider(provider);
    await sendAlert(`Provider ${provider} reached daily limit`);
  }
}
            </div>

            <h3 style="margin-top: 30px;">Cost Alerts & Notifications</h3>
            <div class="task-grid" style="margin-top: 15px;">
                <div class="error-item">
                    <strong>âš ï¸ 80% Budget Alert</strong><br>
                    Provider approaching daily limit â†’ Send email to admin
                </div>
                <div class="error-item">
                    <strong>ğŸ”´ 100% Budget Alert</strong><br>
                    Provider limit reached â†’ Auto-disable, send urgent alert
                </div>
                <div class="error-item">
                    <strong>ğŸ“Š Daily Cost Report</strong><br>
                    End of day summary â†’ Email with cost breakdown
                </div>
                <div class="error-item">
                    <strong>ğŸ’° User Budget Alert</strong><br>
                    User approaching monthly limit â†’ In-app notification
                </div>
            </div>
        </section>

        <!-- USER EXPERIENCE & UX FLOW SECTION -->
        <section id="ux-flow" class="section">
            <h2>ğŸ¨ User Experience & UX Flow</h2>
            <p style="color: #a0aec0; margin-bottom: 30px;">Optimized user journey designed for seamless AI interaction with minimal friction and maximum clarity.</p>

            <h3>ğŸ¯ Core UX Principles</h3>
            <div class="error-grid" style="margin-bottom: 30px;">
                <div class="error-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <strong>âš¡ Speed First</strong><br>
                    <span style="font-size: 0.9em; opacity: 0.9;">Sub-second response times, instant UI feedback, no loading spinners for interactions</span>
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <strong>ğŸ¯ Zero Learning Curve</strong><br>
                    <span style="font-size: 0.9em; opacity: 0.9;">Familiar chat interface, intuitive controls, no tutorials needed</span>
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <strong>ğŸ”„ Continuous Feedback</strong><br>
                    <span style="font-size: 0.9em; opacity: 0.9;">Real-time typing indicators, progress bars, clear error messages</span>
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <strong>ğŸ¨ Visual Hierarchy</strong><br>
                    <span style="font-size: 0.9em; opacity: 0.9;">Clear CTAs, scannable content, consistent spacing and colors</span>
                </div>
            </div>

            <h3>ğŸ“± Complete User Journey</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">1ï¸âƒ£ First Visit (0-10 seconds)</h4>
                <div style="display: grid; gap: 15px; margin-top: 15px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #60a5fa;">
                        <strong style="color: #60a5fa;">Landing</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Hero section with clear value prop: "12 AI Engines, One Interface"<br>
                            â€¢ Prominent textarea with placeholder: "Ask anything..."<br>
                            â€¢ Engine selector visible but not overwhelming<br>
                            â€¢ No signup wall - immediate access
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #34d399;">
                        <strong style="color: #34d399;">First Impression</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Clean, modern dark theme (reduces eye strain)<br>
                            â€¢ Minimal UI elements (no clutter)<br>
                            â€¢ Fast load time (<2s on 3G)<br>
                            â€¢ Mobile-responsive design
                        </span>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #f59e0b; margin-top: 0;">2ï¸âƒ£ First Interaction (10-30 seconds)</h4>
                <div style="display: grid; gap: 15px; margin-top: 15px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong style="color: #f59e0b;">Typing Experience</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Auto-focus on textarea (no click needed)<br>
                            â€¢ Character counter appears at 80% limit<br>
                            â€¢ Smart suggestions based on context<br>
                            â€¢ Keyboard shortcuts visible (Ctrl+Enter to send)
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">Engine Selection</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Default engine pre-selected (GPT-4)<br>
                            â€¢ Hover shows engine capabilities<br>
                            â€¢ Color-coded by speed/quality<br>
                            â€¢ One-click switching (no confirmation needed)
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">Submit Action</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Large, prominent "Send" button<br>
                            â€¢ Button animates on hover<br>
                            â€¢ Disabled state if textarea empty<br>
                            â€¢ Loading state with animated icon
                        </span>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #10b981; margin-top: 0;">3ï¸âƒ£ Response Phase (30s - 2min)</h4>
                <div style="display: grid; gap: 15px; margin-top: 15px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">Waiting Experience</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Animated typing indicator<br>
                            â€¢ Estimated time remaining<br>
                            â€¢ "Cancel" button always visible<br>
                            â€¢ Background blur to focus attention
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">Streaming Response</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Text appears word-by-word (streaming)<br>
                            â€¢ Syntax highlighting for code blocks<br>
                            â€¢ Auto-scroll to latest content<br>
                            â€¢ Copy button on code blocks
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong style="color: #f59e0b;">Error Handling</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Clear error messages (no tech jargon)<br>
                            â€¢ Suggested actions ("Try again" / "Switch engine")<br>
                            â€¢ Preserve user's input<br>
                            â€¢ Auto-retry on network errors
                        </span>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #8b5cf6; margin-top: 0;">4ï¸âƒ£ Post-Response Actions (2min+)</h4>
                <div style="display: grid; gap: 15px; margin-top: 15px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">Interaction Options</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Copy response (one-click)<br>
                            â€¢ Download as PDF/Markdown<br>
                            â€¢ Share link (if logged in)<br>
                            â€¢ Regenerate with different engine
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">Conversation Flow</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ Follow-up questions suggested<br>
                            â€¢ Conversation history visible<br>
                            â€¢ "New Chat" button prominent<br>
                            â€¢ Context maintained across messages
                        </span>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">Engagement Hooks</strong><br>
                        <span style="color: #a0aec0; font-size: 0.9em;">
                            â€¢ "Try another engine" suggestion<br>
                            â€¢ Related prompts carousel<br>
                            â€¢ Credit balance visible (if logged in)<br>
                            â€¢ Upgrade CTA (non-intrusive)
                        </span>
                    </div>
                </div>
            </div>

            <h3>ğŸ¨ Visual Design System</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 12px;">
                    <h4 style="margin-top: 0; color: white;">ğŸ¨ Color Palette</h4>
                    <div style="font-size: 0.9em; line-height: 1.8;">
                        <strong>Primary:</strong> #667eea (Purple)<br>
                        <strong>Success:</strong> #10b981 (Green)<br>
                        <strong>Warning:</strong> #f59e0b (Amber)<br>
                        <strong>Error:</strong> #ef4444 (Red)<br>
                        <strong>Background:</strong> #0f172a (Dark)<br>
                        <strong>Text:</strong> #f1f5f9 (Light)
                    </div>
                </div>
                <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 25px; border-radius: 12px;">
                    <h4 style="margin-top: 0; color: white;">ğŸ“ Typography</h4>
                    <div style="font-size: 0.9em; line-height: 1.8;">
                        <strong>Headings:</strong> Inter Bold<br>
                        <strong>Body:</strong> Inter Regular<br>
                        <strong>Code:</strong> Fira Code<br>
                        <strong>Base Size:</strong> 16px<br>
                        <strong>Line Height:</strong> 1.6<br>
                        <strong>Scale:</strong> 1.25 (Major Third)
                    </div>
                </div>
                <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 25px; border-radius: 12px;">
                    <h4 style="margin-top: 0; color: white;">ğŸ“ Spacing</h4>
                    <div style="font-size: 0.9em; line-height: 1.8;">
                        <strong>Base Unit:</strong> 8px<br>
                        <strong>Small:</strong> 8px<br>
                        <strong>Medium:</strong> 16px<br>
                        <strong>Large:</strong> 24px<br>
                        <strong>XL:</strong> 32px<br>
                        <strong>Container:</strong> 1200px max
                    </div>
                </div>
            </div>

            <h3>âš¡ Performance Optimizations</h3>
            <div class="error-grid">
                <div class="error-item">
                    <strong>ğŸš€ Lazy Loading</strong><br>
                    Load conversation history on scroll, defer non-critical JS
                </div>
                <div class="error-item">
                    <strong>ğŸ’¾ Smart Caching</strong><br>
                    Cache responses locally, prefetch common queries
                </div>
                <div class="error-item">
                    <strong>ğŸ¯ Code Splitting</strong><br>
                    Separate bundles for each engine, load on demand
                </div>
                <div class="error-item">
                    <strong>ğŸ“Š Analytics</strong><br>
                    Track user flows, identify drop-off points, A/B test features
                </div>
            </div>

            <h3>ğŸ“± Responsive Breakpoints</h3>
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background: rgba(102, 126, 234, 0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 15px; text-align: left;">Device</th>
                        <th style="padding: 15px; text-align: left;">Breakpoint</th>
                        <th style="padding: 15px; text-align: left;">Layout Changes</th>
                        <th style="padding: 15px; text-align: left;">Priority</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“± Mobile</td>
                        <td style="padding: 12px;"><code style="background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px;">< 640px</code></td>
                        <td style="padding: 12px;">Single column, bottom nav, fullscreen chat</td>
                        <td style="padding: 12px;"><span style="background: #10b981; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“± Tablet</td>
                        <td style="padding: 12px;"><code style="background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px;">640px - 1024px</code></td>
                        <td style="padding: 12px;">Two columns, side nav, split view</td>
                        <td style="padding: 12px;"><span style="background: #f59e0b; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">High</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ’» Desktop</td>
                        <td style="padding: 12px;"><code style="background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px;">1024px - 1440px</code></td>
                        <td style="padding: 12px;">Three columns, full features, hover states</td>
                        <td style="padding: 12px;"><span style="background: #10b981; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ–¥ï¸ Large Desktop</td>
                        <td style="padding: 12px;"><code style="background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px;">> 1440px</code></td>
                        <td style="padding: 12px;">Max width container, extra whitespace</td>
                        <td style="padding: 12px;"><span style="background: #6366f1; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Medium</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ¯ Accessibility (WCAG 2.1 AA)</h3>
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 25px; border-radius: 12px; margin-top: 20px; border: 1px solid rgba(255,255,255,0.1);">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
                    <div>
                        <h4 style="color: #60a5fa; margin-top: 0;">âŒ¨ï¸ Keyboard Navigation</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em;">
                            <li>Tab through all interactive elements</li>
                            <li>Enter to submit, Esc to cancel</li>
                            <li>Arrow keys for engine selection</li>
                            <li>Ctrl+K for command palette</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #34d399; margin-top: 0;">ğŸ‘ï¸ Screen Readers</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em;">
                            <li>ARIA labels on all controls</li>
                            <li>Live regions for dynamic content</li>
                            <li>Semantic HTML structure</li>
                            <li>Alt text for all images</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #f59e0b; margin-top: 0;">ğŸ¨ Visual</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em;">
                            <li>4.5:1 contrast ratio minimum</li>
                            <li>Focus indicators visible</li>
                            <li>No color-only information</li>
                            <li>Scalable text (up to 200%)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>ğŸ“Š UX Metrics to Track</h3>
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background: rgba(102, 126, 234, 0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 15px; text-align: left;">Metric</th>
                        <th style="padding: 15px; text-align: left;">Target</th>
                        <th style="padding: 15px; text-align: left;">Current</th>
                        <th style="padding: 15px; text-align: left;">Tool</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">âš¡ Time to First Interaction</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">< 2s</strong></td>
                        <td style="padding: 12px;">2.3s</td>
                        <td style="padding: 12px;">Lighthouse</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ¯ Task Completion Rate</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">> 85%</strong></td>
                        <td style="padding: 12px;">-</td>
                        <td style="padding: 12px;">Google Analytics</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ˜Š User Satisfaction (NPS)</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">> 50</strong></td>
                        <td style="padding: 12px;">-</td>
                        <td style="padding: 12px;">In-app Survey</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ”„ Return User Rate</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">> 40%</strong></td>
                        <td style="padding: 12px;">-</td>
                        <td style="padding: 12px;">Mixpanel</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">â±ï¸ Average Session Duration</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">> 5min</strong></td>
                        <td style="padding: 12px;">-</td>
                        <td style="padding: 12px;">Google Analytics</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">âŒ Error Rate</td>
                        <td style="padding: 12px;"><strong style="color: #10b981;">< 5%</strong></td>
                        <td style="padding: 12px;">-</td>
                        <td style="padding: 12px;">Sentry</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸš€ Quick Wins for Launch</h3>
            <div class="error-grid" style="margin-top: 20px;">
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Implement</strong><br>
                    Loading skeletons instead of spinners
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Add</strong><br>
                    Keyboard shortcuts (Ctrl+Enter, Esc)
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Optimize</strong><br>
                    Mobile textarea (auto-resize, no zoom)
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Enable</strong><br>
                    One-click copy for responses
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    <strong>âš ï¸ Test</strong><br>
                    All flows on real mobile devices
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    <strong>âš ï¸ Validate</strong><br>
                    Accessibility with screen reader
                </div>
            </div>
        </section>

        <!-- CHAOS MONKEY SECTION -->
        <section id="chaos-monkey" class="section">
            <h2>ğŸ’ Chaos Monkey Testing Suite</h2>
            <p style="color: #a0aec0; margin-bottom: 20px;">Independent testing system that systematically tries to break your platform before users do.</p>

            <h3>Quick Start</h3>
            <div class="code-block" style="margin-bottom: 20px;">
# 1. Install Chaos Monkey dependencies
npm run chaos:install

# 2. Start your OneMindAI app (Terminal 1)
npm run dev

# 3. Start Chaos Monkey server (Terminal 2)
npm run chaos

# 4. Open dashboard
http://localhost:4000

# Or run from CLI
npm run chaos:all          # Run all tests
npm run chaos:api          # API tests only
npm run chaos:security     # Security tests only
npm run chaos:load         # Load tests only
npm run chaos:report       # Generate HTML report
            </div>

            <h3>Test Suites Overview</h3>
            <div class="grid">
                <div class="card" style="border-left-color: #f56565;">
                    <h4 style="color: #f56565;">ğŸ”Œ API Chaos (15 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Invalid API key handling</li>
                        <li>Missing/malformed request body</li>
                        <li>Oversized payloads (1MB, 10MB)</li>
                        <li>Special characters & Unicode</li>
                        <li>Null values & type mismatches</li>
                        <li>HTTP method validation</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #ed8936;">
                    <h4 style="color: #ed8936;">ğŸ”’ Security Chaos (10 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>SQL injection attempts</li>
                        <li>XSS injection (7 payloads)</li>
                        <li>Path traversal attacks</li>
                        <li>Command injection</li>
                        <li>CORS validation</li>
                        <li>API key exposure check</li>
                        <li>Rate limit bypass attempts</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #4299e1;">
                    <h4 style="color: #4299e1;">âš¡ Load Chaos (7 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>10/50/100 concurrent requests</li>
                        <li>Rapid fire (20 req/sec)</li>
                        <li>Sustained load (30 seconds)</li>
                        <li>Spike test (0 to 50 instant)</li>
                        <li>Response time under load</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #48bb78;">
                    <h4 style="color: #48bb78;">ğŸ­ UI Chaos (6 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>Rapid submit button clicks</li>
                        <li>Extreme input length (100K chars)</li>
                        <li>Browser back/forward chaos</li>
                        <li>Console error detection</li>
                        <li>Memory usage monitoring</li>
                        <li>Responsive layout validation</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #9f7aea;">
                    <h4 style="color: #9f7aea;">ğŸ¤– Provider Chaos (6 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>OpenAI/Claude/Gemini timeouts</li>
                        <li>Provider fallback on failure</li>
                        <li>Streaming interruption</li>
                        <li>Multi-provider concurrent</li>
                    </ul>
                </div>

                <div class="card" style="border-left-color: #f093fb;">
                    <h4 style="color: #f093fb;">ğŸ“„ Export Chaos (4 tests)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem;">
                        <li>PDF with large content</li>
                        <li>Word with special characters</li>
                        <li>Malformed markdown export</li>
                        <li>Concurrent export requests</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Dashboard Features</h3>
            <div class="code-block" style="margin-top: 15px;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ’ CHAOS MONKEY DASHBOARD                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ Target: [localhost:5173 â–¼]  [Production â–¼]                         â”‚
â”‚                                                                         â”‚
â”‚  [ğŸš€ Run All Tests]  [â–¶ï¸ Run Selected]  [ğŸ—‘ï¸ Clear]  [ğŸ“¥ Export]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Stats                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    48    â”‚ â”‚    42    â”‚ â”‚    4     â”‚ â”‚    2     â”‚ â”‚   12.3s  â”‚      â”‚
â”‚  â”‚  Total   â”‚ â”‚  Passed  â”‚ â”‚  Failed  â”‚ â”‚ Skipped  â”‚ â”‚ Duration â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ§ª Test Suites          â”‚  ğŸ“‹ Results (Filter: All | Passed | Failed) â”‚
â”‚  â”œâ”€ API Chaos (15)       â”‚  âœ… api-001: Invalid API Key       [CRIT]   â”‚
â”‚  â”œâ”€ Security (10)        â”‚  âœ… api-002: Missing Body          [HIGH]   â”‚
â”‚  â”œâ”€ Load Chaos (7)       â”‚  âŒ sec-005: CORS Headers          [HIGH]   â”‚
â”‚  â”œâ”€ UI Chaos (6)         â”‚     â””â”€ CORS allows all origins!             â”‚
â”‚  â”œâ”€ Providers (6)        â”‚  âœ… load-001: 10 Concurrent        [MED]    â”‚
â”‚  â””â”€ Exports (4)          â”‚  â­ï¸ ui-001: Rapid Clicks (skipped) [MED]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“œ Live Log                                                            â”‚
â”‚  [12:34:56] Connected to Chaos Monkey server                           â”‚
â”‚  [12:34:57] Running: Invalid API Key Handling                          â”‚
â”‚  [12:34:58] âœ… Test passed in 234ms                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3 style="margin-top: 30px;">CI/CD Integration</h3>
            <div class="code-block" style="margin-top: 15px;">
# GitHub Actions Example
name: Chaos Monkey Tests
on: [push, pull_request]

jobs:
  chaos-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      
      - name: Install & Start App
        run: npm install && npm run dev &
        
      - name: Install & Start Chaos Monkey
        run: npm run chaos:install && npm run chaos &
        
      - name: Run All Tests
        run: npm run chaos:all -- --json > results.json
        
      - name: Fail if tests failed
        run: |
          FAILED=$(cat results.json | jq '.stats.failed')
          if [ "$FAILED" -gt 0 ]; then exit 1; fi
            </div>

            <h3 style="margin-top: 30px;">File Structure</h3>
            <div class="task-grid" style="margin-top: 15px;">
                <div class="card">
                    <strong>chaos-monkey/server.js</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Main server with all 48 test definitions</span>
                </div>
                <div class="card">
                    <strong>chaos-monkey/cli.js</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Command-line interface for CI/CD</span>
                </div>
                <div class="card">
                    <strong>chaos-monkey/dashboard/</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">Web dashboard with real-time updates</span>
                </div>
                <div class="card">
                    <strong>chaos-monkey/generate-report.js</strong><br>
                    <span style="color: #a0aec0; font-size: 0.85rem;">HTML report generator</span>
                </div>
            </div>

            <h3 style="margin-top: 30px;">ğŸ—ºï¸ Interactive Analysis Dashboard</h3>
            <p style="color: #a0aec0; margin-bottom: 20px;">Obsidian-style graph visualization showing Chaos Monkey benefits, dependencies, and impact analysis. Fully editable with CSV storage and API tracking.</p>
            
            <div class="code-block" style="margin-bottom: 20px;">
# Start the Analysis Dashboard
npm run chaos:analysis:install   # First time only
npm run chaos:analysis           # Start server on port 3847

# Open dashboard
http://localhost:3847
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #ec4899; margin-top: 0;">ğŸ“Š What the Dashboard Shows</h4>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h5 style="color: #10b981; margin-top: 0;">âœ… Benefits</h5>
                        <ul style="color: #a0aec0; font-size: 0.9em; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li>API Testing - Tests all 12 AI providers</li>
                            <li>Security Testing - Validates auth & prevents attacks</li>
                            <li>Load Testing - Simulates 50+ concurrent users</li>
                            <li>Error Catalog - Documents all error states</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <h5 style="color: #3b82f6; margin-top: 0;">ğŸ’ Values</h5>
                        <ul style="color: #a0aec0; font-size: 0.9em; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li>Regression Prevention - Catches bugs early</li>
                            <li>Developer Confidence - 95%+ deployment confidence</li>
                            <li>Documentation - Auto-generates test reports</li>
                            <li>Cost Savings - Prevents $10K+ incidents</li>
                            <li>Time Savings - 80% less manual QA</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <h5 style="color: #f59e0b; margin-top: 0;">ğŸ”— Dependencies</h5>
                        <ul style="color: #a0aec0; font-size: 0.9em; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li>API Integration - Requires working endpoints</li>
                            <li>Rate Limiting - Tests limit enforcement</li>
                            <li>Error Handling - Validates error paths</li>
                            <li>User Authentication - Tests session management</li>
                            <li>Credit System - Validates credit deduction</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(239, 68, 68, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #ef4444;">
                        <h5 style="color: #ef4444; margin-top: 0;">âš ï¸ Risks Without Testing</h5>
                        <ul style="color: #a0aec0; font-size: 0.9em; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li>No confidence in system reliability</li>
                            <li>Security vulnerabilities undiscovered</li>
                            <li>Performance issues only found during spikes</li>
                            <li>Manual testing takes 10x longer</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #8b5cf6; margin-top: 0;">ğŸ¯ Confidence Levels & AI Achievability</h4>
                
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(139, 92, 246, 0.2); border-bottom: 2px solid #8b5cf6;">
                            <th style="padding: 15px; text-align: left;">Component</th>
                            <th style="padding: 15px; text-align: left;">Confidence</th>
                            <th style="padding: 15px; text-align: left;">AI Achievable</th>
                            <th style="padding: 15px; text-align: left;">Manual Effort</th>
                            <th style="padding: 15px; text-align: left;">Impact if Missing</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #10b981;">API Testing</strong></td>
                            <td style="padding: 12px;"><span style="color: #10b981;">95%</span></td>
                            <td style="padding: 12px;"><span style="background: #10b981; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">Yes</span></td>
                            <td style="padding: 12px;">High</td>
                            <td style="padding: 12px; color: #ef4444;">Unhandled API errors crash app</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #3b82f6;">Security Testing</strong></td>
                            <td style="padding: 12px;"><span style="color: #10b981;">98%</span></td>
                            <td style="padding: 12px;"><span style="background: #f59e0b; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">Partial</span></td>
                            <td style="padding: 12px;">Very High</td>
                            <td style="padding: 12px; color: #ef4444;">Security vulnerabilities exposed</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #8b5cf6;">Load Testing</strong></td>
                            <td style="padding: 12px;"><span style="color: #10b981;">90%</span></td>
                            <td style="padding: 12px;"><span style="background: #10b981; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">Yes</span></td>
                            <td style="padding: 12px;">Very High</td>
                            <td style="padding: 12px; color: #ef4444;">System crashes during traffic spikes</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ec4899;">Developer Confidence</strong></td>
                            <td style="padding: 12px;"><span style="color: #10b981;">95%</span></td>
                            <td style="padding: 12px;"><span style="background: #10b981; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">Yes</span></td>
                            <td style="padding: 12px;">Medium</td>
                            <td style="padding: 12px; color: #ef4444;">Fear of deploying = slow releases</td>
                        </tr>
                        <tr style="background: rgba(139, 92, 246, 0.2); border-top: 2px solid #8b5cf6;">
                            <td style="padding: 15px;"><strong>Overall System</strong></td>
                            <td style="padding: 15px;"><strong style="color: #10b981; font-size: 1.2em;">92%</strong></td>
                            <td style="padding: 15px;">-</td>
                            <td style="padding: 15px;">-</td>
                            <td style="padding: 15px; color: #ef4444;"><strong>15% without testing</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">ğŸ“ CSV Data Structure</h4>
                <p style="color: #a0aec0; margin-bottom: 15px;">All analysis data is stored in an editable CSV file with API tracking:</p>
                
                <div class="code-block" style="font-size: 0.85em;">
# File: chaos-monkey/analysis/chaos-analysis-data.csv

segment,field,value,category,dependencies,confidence_level,manual_effort,ai_achievable,impact_if_missing,last_updated,updated_by
Chaos Monkey,API Testing,Tests all 12 AI provider endpoints,benefit,API Integration|Error Handling,95,High,Yes,Unhandled API errors crash the app,2024-01-01T00:00:00Z,system
Chaos Monkey,Security Testing,Validates authentication and prevents attacks,benefit,User Authentication|Input Validation,98,Very High,Partial,Security vulnerabilities exposed,2024-01-01T00:00:00Z,system
...
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #10b981; margin-top: 0;">ğŸ”Œ API Endpoints</h4>
                
                <div class="code-block" style="font-size: 0.85em;">
# Base URL: http://localhost:3847

# GET all analysis data
GET /api/chaos-analysis
â†’ Returns: { success, headers, data, grouped, stats }

# GET graph visualization data
GET /api/chaos-analysis/graph
â†’ Returns: { nodes, links } for D3.js force graph

# GET change history
GET /api/chaos-analysis/history
â†’ Returns: { changes: [...] } with timestamps

# UPDATE a row (editable!)
PUT /api/chaos-analysis/:id
Body: { field, value, confidence_level, ai_achievable, ... }
â†’ Saves to CSV, logs to history

# ADD new row
POST /api/chaos-analysis
Body: { segment, field, value, category, ... }
â†’ Appends to CSV

# DELETE a row
DELETE /api/chaos-analysis/:id
â†’ Removes from CSV, logs deletion
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); padding: 25px; border-radius: 12px; text-align: center; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="margin: 0; color: white; font-size: 1.3em;">ğŸ—ºï¸ Interactive Graph View</h4>
                <p style="color: rgba(255,255,255,0.95); margin: 15px 0 0; line-height: 1.6;">
                    Obsidian-style force-directed graph showing all Chaos Monkey components, their dependencies, and relationships.
                    Click any node to edit its properties. All changes are tracked and saved to CSV.
                </p>
                <div style="margin-top: 15px;">
                    <a href="http://localhost:3847" target="_blank" style="display: inline-block; background: white; color: #38a169; padding: 12px 30px; border-radius: 8px; text-decoration: none; font-weight: bold;">
                        ğŸš€ Open Analysis Dashboard
                    </a>
                </div>
            </div>
        </section>

        <!-- SECURITY & PRIVACY SECTION -->
        <section id="security" class="section">
            <h2>ğŸ” Security & Privacy Architecture</h2>
            <p style="color: #a0aec0; margin-bottom: 30px;">Comprehensive security framework protecting against hacking, data leaks, breaches, and unauthorized access.</p>

            <div style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="margin-top: 0; color: white;">ğŸš¨ Critical Security Priorities</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; border-left: 4px solid #fbbf24;">
                        <h4 style="color: white; margin-top: 0; font-size: 1.1em;">ğŸ”‘ API Key Protection</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.95);">
                            <strong>NEVER</strong> expose API keys in frontend code, Git commits, or browser storage. All keys must be server-side only.
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <h4 style="color: white; margin-top: 0; font-size: 1.1em;">ğŸ›¡ï¸ Data Encryption</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.95);">
                            All data in transit (HTTPS/TLS 1.3) and at rest (AES-256) must be encrypted. No plain text storage.
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; border-left: 4px solid #ef4444;">
                        <h4 style="color: white; margin-top: 0; font-size: 1.1em;">ğŸš« Zero Trust Model</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.95);">
                            Verify every request, validate all inputs, authenticate all users, authorize all actions.
                        </p>
                    </div>
                </div>
            </div>

            <h3>ğŸ¯ Threat Categories & Mitigations</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #ef4444; margin-top: 0;">1ï¸âƒ£ Hacking & Unauthorized Access</h4>
                
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(239, 68, 68, 0.2); border-bottom: 2px solid #ef4444;">
                            <th style="padding: 12px; text-align: left; width: 25%;">Attack Vector</th>
                            <th style="padding: 12px; text-align: left; width: 35%;">Risk</th>
                            <th style="padding: 12px; text-align: left; width: 40%;">Mitigation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">SQL Injection</strong></td>
                            <td style="padding: 12px;">Attacker executes malicious SQL queries to access/modify database</td>
                            <td style="padding: 12px;">
                                âœ… Use parameterized queries (prepared statements)<br>
                                âœ… ORM with built-in escaping (Prisma/TypeORM)<br>
                                âœ… Input validation & sanitization<br>
                                âœ… Least privilege DB user permissions
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">XSS (Cross-Site Scripting)</strong></td>
                            <td style="padding: 12px;">Inject malicious scripts to steal cookies, session tokens, or redirect users</td>
                            <td style="padding: 12px;">
                                âœ… React auto-escapes by default<br>
                                âœ… Use DOMPurify for user-generated HTML<br>
                                âœ… Content Security Policy (CSP) headers<br>
                                âœ… HTTPOnly & Secure cookies
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">CSRF (Cross-Site Request Forgery)</strong></td>
                            <td style="padding: 12px;">Trick users into executing unwanted actions on authenticated sessions</td>
                            <td style="padding: 12px;">
                                âœ… CSRF tokens on all state-changing requests<br>
                                âœ… SameSite cookie attribute<br>
                                âœ… Verify Origin/Referer headers<br>
                                âœ… Re-authenticate for sensitive actions
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">Brute Force Attacks</strong></td>
                            <td style="padding: 12px;">Automated attempts to guess passwords or API keys</td>
                            <td style="padding: 12px;">
                                âœ… Rate limiting (5 attempts/15min)<br>
                                âœ… Account lockout after 10 failed attempts<br>
                                âœ… CAPTCHA after 3 failed attempts<br>
                                âœ… Strong password requirements (12+ chars)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">Session Hijacking</strong></td>
                            <td style="padding: 12px;">Steal session tokens to impersonate users</td>
                            <td style="padding: 12px;">
                                âœ… HTTPS only (no HTTP)<br>
                                âœ… Secure, HTTPOnly, SameSite cookies<br>
                                âœ… Session rotation after login<br>
                                âœ… Short session expiry (24h max)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">Man-in-the-Middle (MITM)</strong></td>
                            <td style="padding: 12px;">Intercept communication between client and server</td>
                            <td style="padding: 12px;">
                                âœ… TLS 1.3 encryption<br>
                                âœ… HSTS (HTTP Strict Transport Security)<br>
                                âœ… Certificate pinning<br>
                                âœ… No mixed content (HTTP + HTTPS)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">DDoS (Distributed Denial of Service)</strong></td>
                            <td style="padding: 12px;">Overwhelm server with traffic to make it unavailable</td>
                            <td style="padding: 12px;">
                                âœ… Cloudflare DDoS protection<br>
                                âœ… Rate limiting per IP<br>
                                âœ… Auto-scaling infrastructure<br>
                                âœ… CDN for static assets
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ef4444;">API Abuse</strong></td>
                            <td style="padding: 12px;">Unauthorized use of API endpoints, scraping, or excessive requests</td>
                            <td style="padding: 12px;">
                                âœ… API key authentication<br>
                                âœ… Rate limiting (100 req/min per user)<br>
                                âœ… Usage quotas & credit system<br>
                                âœ… IP-based throttling
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #f59e0b; margin-top: 0;">2ï¸âƒ£ Data Leaks & Exposure</h4>
                
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(245, 158, 11, 0.2); border-bottom: 2px solid #f59e0b;">
                            <th style="padding: 12px; text-align: left; width: 25%;">Leak Vector</th>
                            <th style="padding: 12px; text-align: left; width: 35%;">Risk</th>
                            <th style="padding: 12px; text-align: left; width: 40%;">Prevention</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Hardcoded Secrets in Code</strong></td>
                            <td style="padding: 12px;">API keys, passwords, tokens committed to Git repository</td>
                            <td style="padding: 12px;">
                                âœ… Use .env files (never commit)<br>
                                âœ… .gitignore all .env files<br>
                                âœ… Use secret management (Vercel Env Vars)<br>
                                âœ… Git hooks to scan for secrets<br>
                                âœ… Rotate keys if accidentally exposed
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Client-Side Exposure</strong></td>
                            <td style="padding: 12px;">Sensitive data visible in browser DevTools, localStorage, or network tab</td>
                            <td style="padding: 12px;">
                                âœ… Never store API keys in frontend<br>
                                âœ… Backend proxy for all AI calls<br>
                                âœ… Encrypt sensitive localStorage data<br>
                                âœ… Clear sensitive data on logout
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Logging Sensitive Data</strong></td>
                            <td style="padding: 12px;">Passwords, tokens, or PII logged to console or monitoring tools</td>
                            <td style="padding: 12px;">
                                âœ… Sanitize logs (redact passwords, keys)<br>
                                âœ… Never log full request bodies<br>
                                âœ… Use structured logging with filters<br>
                                âœ… Secure log storage with access controls
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Database Dumps</strong></td>
                            <td style="padding: 12px;">Unencrypted backups or exports containing user data</td>
                            <td style="padding: 12px;">
                                âœ… Encrypt all database backups<br>
                                âœ… Secure backup storage (S3 with encryption)<br>
                                âœ… Access controls on backups<br>
                                âœ… Automatic backup rotation (30 days)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Error Messages</strong></td>
                            <td style="padding: 12px;">Detailed error messages revealing system internals or data</td>
                            <td style="padding: 12px;">
                                âœ… Generic error messages to users<br>
                                âœ… Detailed errors only in server logs<br>
                                âœ… No stack traces in production<br>
                                âœ… Custom error pages (no defaults)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Third-Party Services</strong></td>
                            <td style="padding: 12px;">Data shared with analytics, monitoring, or AI providers</td>
                            <td style="padding: 12px;">
                                âœ… Review third-party privacy policies<br>
                                âœ… Minimize data sent to third parties<br>
                                âœ… Anonymize/pseudonymize user data<br>
                                âœ… Data Processing Agreements (DPAs)
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #f59e0b;">Insecure File Uploads</strong></td>
                            <td style="padding: 12px;">Malicious files uploaded, stored, or served to other users</td>
                            <td style="padding: 12px;">
                                âœ… Validate file types (whitelist only)<br>
                                âœ… Scan uploads for malware<br>
                                âœ… Size limits (5MB max)<br>
                                âœ… Store in isolated S3 bucket<br>
                                âœ… Serve with Content-Disposition: attachment
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #8b5cf6; margin-top: 0;">3ï¸âƒ£ Data Breach Response Plan</h4>
                
                <div style="display: grid; gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">ğŸš¨ Immediate Response (0-1 hour)</h5>
                        <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                            <li><strong>Contain:</strong> Isolate affected systems, disable compromised accounts</li>
                            <li><strong>Assess:</strong> Identify scope - what data was accessed/stolen?</li>
                            <li><strong>Notify:</strong> Alert security team and leadership immediately</li>
                            <li><strong>Preserve:</strong> Take snapshots/logs for forensic analysis</li>
                            <li><strong>Rotate:</strong> Change all API keys, passwords, tokens</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #a78bfa;">
                        <h5 style="color: #a78bfa; margin-top: 0;">ğŸ“‹ Investigation (1-24 hours)</h5>
                        <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                            <li><strong>Root Cause:</strong> How did the breach occur? What vulnerability?</li>
                            <li><strong>Impact Analysis:</strong> How many users affected? What data exposed?</li>
                            <li><strong>Timeline:</strong> When did breach start? When detected?</li>
                            <li><strong>Evidence:</strong> Collect logs, access records, system snapshots</li>
                            <li><strong>Patch:</strong> Fix the vulnerability immediately</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #c4b5fd;">
                        <h5 style="color: #c4b5fd; margin-top: 0;">ğŸ“¢ Notification (24-72 hours)</h5>
                        <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                            <li><strong>Users:</strong> Email all affected users with details and actions to take</li>
                            <li><strong>Authorities:</strong> Report to data protection authorities (GDPR requires 72h)</li>
                            <li><strong>Public:</strong> Issue public statement if breach is significant</li>
                            <li><strong>Partners:</strong> Notify AI providers if their keys were compromised</li>
                            <li><strong>Transparency:</strong> Be honest about what happened and what you're doing</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #ddd6fe;">
                        <h5 style="color: #ddd6fe; margin-top: 0;">ğŸ”§ Remediation (1-4 weeks)</h5>
                        <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                            <li><strong>Security Audit:</strong> Full review of entire system</li>
                            <li><strong>Penetration Testing:</strong> Hire external security experts</li>
                            <li><strong>Infrastructure Hardening:</strong> Implement additional security controls</li>
                            <li><strong>Monitoring:</strong> Enhanced logging and alerting</li>
                            <li><strong>Training:</strong> Security awareness for entire team</li>
                            <li><strong>Insurance:</strong> File claim if you have cyber insurance</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>ğŸ”’ Privacy Compliance (GDPR, CCPA, HIPAA)</h3>
            
            <div class="grid" style="margin-bottom: 30px;">
                <div class="card" style="border-left-color: #3b82f6;">
                    <h4 style="color: #3b82f6; margin-bottom: 10px;">ğŸ‡ªğŸ‡º GDPR (EU Users)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem; line-height: 1.8;">
                        <li><strong>Consent:</strong> Explicit opt-in for data collection</li>
                        <li><strong>Right to Access:</strong> Users can download their data</li>
                        <li><strong>Right to Erasure:</strong> "Delete my account" feature</li>
                        <li><strong>Data Portability:</strong> Export in machine-readable format</li>
                        <li><strong>Breach Notification:</strong> Report within 72 hours</li>
                        <li><strong>Privacy Policy:</strong> Clear, accessible, updated</li>
                        <li><strong>DPO:</strong> Data Protection Officer (if >250 employees)</li>
                    </ul>
                </div>
                
                <div class="card" style="border-left-color: #10b981;">
                    <h4 style="color: #10b981; margin-bottom: 10px;">ğŸ‡ºğŸ‡¸ CCPA (California Users)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem; line-height: 1.8;">
                        <li><strong>Disclosure:</strong> What data you collect and why</li>
                        <li><strong>Right to Know:</strong> What data you have on them</li>
                        <li><strong>Right to Delete:</strong> Delete personal information</li>
                        <li><strong>Right to Opt-Out:</strong> "Do Not Sell My Data"</li>
                        <li><strong>Non-Discrimination:</strong> Can't charge more for privacy</li>
                        <li><strong>Privacy Notice:</strong> At or before collection</li>
                    </ul>
                </div>
                
                <div class="card" style="border-left-color: #f59e0b;">
                    <h4 style="color: #f59e0b; margin-bottom: 10px;">ğŸ¥ HIPAA (Healthcare Data)</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem; line-height: 1.8;">
                        <li><strong>PHI Protection:</strong> Encrypt all health information</li>
                        <li><strong>Access Controls:</strong> Who can view medical data</li>
                        <li><strong>Audit Trails:</strong> Log all PHI access</li>
                        <li><strong>BAA:</strong> Business Associate Agreements</li>
                        <li><strong>Minimum Necessary:</strong> Only access needed data</li>
                        <li><strong>Note:</strong> Only if handling health data</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ›¡ï¸ Security Implementation Checklist</h3>
            
            <div class="error-grid">
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Authentication</strong><br>
                    JWT tokens, OAuth 2.0, MFA option, session management
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Authorization</strong><br>
                    Role-based access control (RBAC), permission checks on all routes
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Encryption</strong><br>
                    TLS 1.3, AES-256 at rest, bcrypt for passwords (12+ rounds)
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <strong>âœ… Input Validation</strong><br>
                    Sanitize all inputs, whitelist validation, type checking
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    <strong>âš ï¸ Rate Limiting</strong><br>
                    API: 100/min, Login: 5/15min, Signup: 3/hour per IP
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    <strong>âš ï¸ Security Headers</strong><br>
                    CSP, HSTS, X-Frame-Options, X-Content-Type-Options
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                    <strong>ğŸ”´ Monitoring</strong><br>
                    Sentry for errors, Cloudflare for DDoS, audit logs for access
                </div>
                <div class="error-item" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
                    <strong>ğŸ”´ Dependency Scanning</strong><br>
                    npm audit, Snyk, Dependabot, update vulnerable packages
                </div>
            </div>

            <h3 style="margin-top: 40px;">ğŸ” Security Testing & Auditing</h3>
            
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background: rgba(102, 126, 234, 0.2); border-bottom: 2px solid #667eea;">
                        <th style="padding: 15px; text-align: left;">Test Type</th>
                        <th style="padding: 15px; text-align: left;">Frequency</th>
                        <th style="padding: 15px; text-align: left;">Tools/Methods</th>
                        <th style="padding: 15px; text-align: left;">Priority</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ” Vulnerability Scanning</td>
                        <td style="padding: 12px;">Weekly</td>
                        <td style="padding: 12px;">OWASP ZAP, Burp Suite, npm audit</td>
                        <td style="padding: 12px;"><span style="background: #ef4444; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ¯ Penetration Testing</td>
                        <td style="padding: 12px;">Quarterly</td>
                        <td style="padding: 12px;">External security firm, simulated attacks</td>
                        <td style="padding: 12px;"><span style="background: #ef4444; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“ Code Review</td>
                        <td style="padding: 12px;">Every PR</td>
                        <td style="padding: 12px;">Manual review, SonarQube, CodeQL</td>
                        <td style="padding: 12px;"><span style="background: #f59e0b; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">High</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ”’ Secrets Scanning</td>
                        <td style="padding: 12px;">Every commit</td>
                        <td style="padding: 12px;">GitGuardian, TruffleHog, pre-commit hooks</td>
                        <td style="padding: 12px;"><span style="background: #ef4444; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“¦ Dependency Audit</td>
                        <td style="padding: 12px;">Daily (automated)</td>
                        <td style="padding: 12px;">Dependabot, Snyk, npm audit</td>
                        <td style="padding: 12px;"><span style="background: #f59e0b; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">High</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ” Access Review</td>
                        <td style="padding: 12px;">Monthly</td>
                        <td style="padding: 12px;">Review user permissions, revoke unused access</td>
                        <td style="padding: 12px;"><span style="background: #10b981; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Medium</span></td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <td style="padding: 12px;">ğŸ“Š Security Audit</td>
                        <td style="padding: 12px;">Annually</td>
                        <td style="padding: 12px;">Full infrastructure review, compliance check</td>
                        <td style="padding: 12px;"><span style="background: #ef4444; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">Critical</span></td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin-top: 40px;">ğŸš¨ Incident Response Contacts</h3>
            
            <div class="code-block" style="margin-top: 15px;">
# Security Incident Response Team

## Primary Contact
Security Lead: security@onemindai.com
Phone: [Emergency Hotline]
Slack: #security-incidents

## Escalation Path
1. Security Engineer (0-15 min)
2. CTO (15-30 min)
3. CEO (30-60 min)
4. Legal Team (if data breach)
5. PR Team (if public disclosure needed)

## External Resources
- Cyber Insurance: [Policy Number]
- Legal Counsel: [Law Firm]
- Forensics Team: [Security Firm]
- Data Protection Authority: [Contact]

## Breach Notification Template
Subject: Security Incident Notification - [Date]
- What happened: [Brief description]
- What data was affected: [Specific data types]
- How many users: [Number]
- What we're doing: [Actions taken]
- What you should do: [User actions]
- Contact: security@onemindai.com
            </div>

            <h3 style="margin-top: 40px;">ğŸ“ Security Best Practices</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 25px; border-radius: 12px; margin-top: 20px; border: 1px solid rgba(255,255,255,0.1);">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                    <div>
                        <h4 style="color: #60a5fa; margin-top: 0;">ğŸ‘¨â€ğŸ’» For Developers</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em; margin: 0;">
                            <li>Never commit secrets to Git</li>
                            <li>Use environment variables for all config</li>
                            <li>Validate and sanitize ALL user inputs</li>
                            <li>Use parameterized queries (no string concatenation)</li>
                            <li>Keep dependencies up to date</li>
                            <li>Enable 2FA on all accounts</li>
                            <li>Review security before every deploy</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #34d399; margin-top: 0;">ğŸ›¡ï¸ For Infrastructure</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em; margin: 0;">
                            <li>Principle of least privilege</li>
                            <li>Separate production and development</li>
                            <li>Encrypt everything (transit + rest)</li>
                            <li>Regular backups (automated, tested)</li>
                            <li>Monitor and alert on anomalies</li>
                            <li>Patch systems within 48 hours</li>
                            <li>Network segmentation and firewalls</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #f59e0b; margin-top: 0;">ğŸ“‹ For Operations</h4>
                        <ul style="color: #a0aec0; line-height: 1.8; font-size: 0.9em; margin: 0;">
                            <li>Security training for all team members</li>
                            <li>Incident response plan (documented, tested)</li>
                            <li>Regular security audits</li>
                            <li>Vendor security assessments</li>
                            <li>Compliance monitoring (GDPR, CCPA)</li>
                            <li>Bug bounty program (optional)</li>
                            <li>Security champions in each team</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- USER ACCOUNTS & AUTHENTICATION SECTION -->
        <section id="user-accounts" class="section">
            <h2>ğŸ‘¤ User Accounts & Authentication System</h2>
            <p style="color: #a0aec0; margin-bottom: 30px;">Complete authentication flow, credit allocation, API rotation architecture, and multi-user resource management.</p>

            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="margin-top: 0; color: white;">ğŸ¯ System Overview</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ‘¥</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">Multi-User Support</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            1000+ concurrent users sharing 12 AI providers
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ”„</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">Smart API Rotation</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Automatic load balancing across providers
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’³</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">Credit System</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Fair usage tracking & allocation per user
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">âš¡</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">Rate Limiting</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Prevent abuse & ensure fair access
                        </p>
                    </div>
                </div>
            </div>

            <h3>ğŸš€ Complete User Journey: From Signup to API Usage</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">ğŸ“ Step 1: User Signup</h4>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                    <div>
                        <h5 style="color: #a0aec0; margin-bottom: 15px;">Frontend Form</h5>
                        <div class="code-block">
// User fills signup form
{
  email: "user@example.com",
  password: "SecurePass123!",
  name: "John Doe",
  agreedToTerms: true
}

// Frontend validation
- Email format check
- Password strength (12+ chars)
- Terms acceptance required
                        </div>
                    </div>
                    
                    <div>
                        <h5 style="color: #a0aec0; margin-bottom: 15px;">Backend Processing</h5>
                        <div class="code-block">
POST /api/auth/signup

1. Validate input data
2. Check if email already exists
3. Hash password (bcrypt, 12 rounds)
4. Create user record in database
5. Generate verification email token
6. Send verification email
7. Create initial credit allocation
8. Return success + JWT token
                        </div>
                    </div>
                </div>

                <h5 style="color: #48bb78; margin-top: 25px; margin-bottom: 15px;">âœ… What Happens in Database</h5>
                <div class="code-block">
-- New user record created
INSERT INTO users (
  id,
  email,
  password_hash,
  name,
  email_verified,
  created_at,
  status
) VALUES (
  'uuid-123',
  'user@example.com',
  '$2b$12$hashed_password',
  'John Doe',
  false,
  NOW(),
  'active'
);

-- Initial credit allocation
INSERT INTO user_credits (
  user_id,
  total_credits,
  used_credits,
  remaining_credits,
  plan_type,
  reset_date
) VALUES (
  'uuid-123',
  1000,           -- Free tier: 1000 credits
  0,
  1000,
  'free',
  NOW() + INTERVAL '30 days'
);

-- User preferences initialized
INSERT INTO user_preferences (
  user_id,
  default_provider,
  theme,
  notifications_enabled
) VALUES (
  'uuid-123',
  'openai',
  'dark',
  true
);
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">ğŸ” Step 2: Email Verification & Sign In</h4>
                
                <div style="display: grid; gap: 20px;">
                    <div style="background: rgba(96, 165, 250, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #60a5fa;">
                        <h5 style="color: #60a5fa; margin-top: 0;">Email Verification</h5>
                        <ol style="color: #a0aec0; line-height: 1.8; margin: 0;">
                            <li>User receives email with verification link</li>
                            <li>Clicks link â†’ <code>GET /api/auth/verify?token=abc123</code></li>
                            <li>Backend validates token (expires in 24h)</li>
                            <li>Updates <code>email_verified = true</code></li>
                            <li>Redirects to login page with success message</li>
                        </ol>
                    </div>
                    
                    <div style="background: rgba(72, 187, 120, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #48bb78;">
                        <h5 style="color: #48bb78; margin-top: 0;">Sign In Flow</h5>
                        <div class="code-block" style="margin-top: 10px;">
POST /api/auth/signin
{
  email: "user@example.com",
  password: "SecurePass123!"
}

Backend Process:
1. Find user by email
2. Compare password hash (bcrypt.compare)
3. Check if email is verified
4. Check if account is active (not banned)
5. Generate JWT token (expires in 7 days)
6. Create session record
7. Update last_login timestamp
8. Return: { token, user, credits }

Response:
{
  success: true,
  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  user: {
    id: "uuid-123",
    email: "user@example.com",
    name: "John Doe",
    plan: "free"
  },
  credits: {
    total: 1000,
    used: 0,
    remaining: 1000
  }
}
                        </div>
                    </div>
                </div>
            </div>

            <h3>ğŸ’³ Credit System Architecture</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #fbbf24; margin-top: 0;">Credit Allocation by Plan</h4>
                
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(251, 191, 36, 0.2); border-bottom: 2px solid #fbbf24;">
                            <th style="padding: 15px; text-align: left;">Plan</th>
                            <th style="padding: 15px; text-align: left;">Credits/Month</th>
                            <th style="padding: 15px; text-align: left;">Cost per 1K Tokens</th>
                            <th style="padding: 15px; text-align: left;">Rate Limit</th>
                            <th style="padding: 15px; text-align: left;">Features</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #10b981;">Free</strong></td>
                            <td style="padding: 12px;">1,000 credits</td>
                            <td style="padding: 12px;">1 credit = 1K tokens</td>
                            <td style="padding: 12px;">10 req/min</td>
                            <td style="padding: 12px;">Basic AI access, 3 providers</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #3b82f6;">Pro</strong></td>
                            <td style="padding: 12px;">10,000 credits</td>
                            <td style="padding: 12px;">1 credit = 1K tokens</td>
                            <td style="padding: 12px;">50 req/min</td>
                            <td style="padding: 12px;">All 12 providers, priority queue</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #8b5cf6;">Enterprise</strong></td>
                            <td style="padding: 12px;">100,000 credits</td>
                            <td style="padding: 12px;">1 credit = 1K tokens</td>
                            <td style="padding: 12px;">200 req/min</td>
                            <td style="padding: 12px;">Dedicated API keys, custom models</td>
                        </tr>
                    </tbody>
                </table>

                <h5 style="color: #a0aec0; margin-top: 30px; margin-bottom: 15px;">Credit Calculation Example</h5>
                <div class="code-block">
// User sends a prompt to GPT-4
Prompt: "Explain quantum computing" (5 tokens)
Response: "Quantum computing uses..." (500 tokens)
Total tokens: 505 tokens

// Credit deduction
Credits used = Math.ceil(505 / 1000) = 1 credit
Remaining credits = 1000 - 1 = 999 credits

// Database update
UPDATE user_credits 
SET 
  used_credits = used_credits + 1,
  remaining_credits = remaining_credits - 1,
  updated_at = NOW()
WHERE user_id = 'uuid-123';

// Usage log
INSERT INTO usage_logs (
  user_id,
  provider,
  model,
  prompt_tokens,
  completion_tokens,
  total_tokens,
  credits_used,
  timestamp
) VALUES (
  'uuid-123',
  'openai',
  'gpt-4',
  5,
  500,
  505,
  1,
  NOW()
);
                </div>
            </div>

            <h3>ğŸ”„ API Rotation Architecture (The Magic! âœ¨)</h3>
            
            <div style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="margin-top: 0; color: white;">How 1000 Users Share 12 AI Providers</h4>
                <p style="color: rgba(255,255,255,0.9); line-height: 1.8;">
                    Instead of each user needing their own API keys, OneMindAI uses a <strong>smart rotation system</strong> 
                    that distributes requests across multiple provider accounts, ensuring no single API hits rate limits.
                </p>
            </div>

            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #ec4899; margin-top: 0;">ğŸ¬ Animation: 2 Users Example</h4>
                
                <div style="background: rgba(236, 72, 153, 0.1); padding: 25px; border-radius: 8px; margin-top: 20px; border: 2px solid #ec4899;">
                    <h5 style="color: #ec4899; margin-top: 0; text-align: center;">â±ï¸ Timeline: How Requests Flow</h5>
                    
                    <div style="display: grid; gap: 20px; margin-top: 20px;">
                        <!-- User 1 Request -->
                        <div style="background: rgba(59, 130, 246, 0.2); padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div style="background: #3b82f6; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">ğŸ‘¤</div>
                                <div>
                                    <strong style="color: #3b82f6; font-size: 1.1em;">User 1: Alice</strong><br>
                                    <span style="color: #a0aec0; font-size: 0.9em;">Free Plan | 1000 credits</span>
                                </div>
                            </div>
                            
                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; margin-top: 10px;">
                                <div style="color: #60a5fa; margin-bottom: 10px;"><strong>ğŸ• 00:00.000</strong> - Alice sends request</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    POST /api/chat<br>
                                    { provider: "openai", prompt: "Hello AI!" }
                                </code>
                                
                                <div style="color: #fbbf24; margin: 15px 0 10px;"><strong>ğŸ• 00:00.050</strong> - Backend receives request</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    1. Authenticate JWT token âœ…<br>
                                    2. Check credits: 1000 remaining âœ…<br>
                                    3. Check rate limit: 2/10 requests âœ…<br>
                                    4. Select API key from pool...
                                </code>
                                
                                <div style="color: #48bb78; margin: 15px 0 10px;"><strong>ğŸ• 00:00.100</strong> - API Rotation Logic</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    Available OpenAI Keys:<br>
                                    - Key #1: 45/60 requests used (75% load) âš ï¸<br>
                                    - Key #2: 12/60 requests used (20% load) âœ… SELECTED<br>
                                    - Key #3: 58/60 requests used (97% load) âŒ<br>
                                    <br>
                                    â†’ Using Key #2 for Alice's request
                                </code>
                                
                                <div style="color: #8b5cf6; margin: 15px 0 10px;"><strong>ğŸ• 00:00.800</strong> - OpenAI responds</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    Response: "Hello! How can I help you?"<br>
                                    Tokens: 8 (prompt) + 42 (response) = 50 tokens<br>
                                    Credits deducted: 1 credit<br>
                                    Alice remaining: 999 credits
                                </code>
                            </div>
                        </div>

                        <!-- User 2 Request (Simultaneous) -->
                        <div style="background: rgba(236, 72, 153, 0.2); padding: 20px; border-radius: 8px; border-left: 4px solid #ec4899;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div style="background: #ec4899; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">ğŸ‘¤</div>
                                <div>
                                    <strong style="color: #ec4899; font-size: 1.1em;">User 2: Bob</strong><br>
                                    <span style="color: #a0aec0; font-size: 0.9em;">Pro Plan | 10,000 credits</span>
                                </div>
                            </div>
                            
                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; margin-top: 10px;">
                                <div style="color: #60a5fa; margin-bottom: 10px;"><strong>ğŸ• 00:00.025</strong> - Bob sends request (25ms after Alice)</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    POST /api/chat<br>
                                    { provider: "openai", prompt: "Write a poem" }
                                </code>
                                
                                <div style="color: #fbbf24; margin: 15px 0 10px;"><strong>ğŸ• 00:00.075</strong> - Backend receives request</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    1. Authenticate JWT token âœ…<br>
                                    2. Check credits: 10,000 remaining âœ…<br>
                                    3. Check rate limit: 5/50 requests âœ…<br>
                                    4. Select API key from pool...
                                </code>
                                
                                <div style="color: #48bb78; margin: 15px 0 10px;"><strong>ğŸ• 00:00.125</strong> - API Rotation Logic</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    Available OpenAI Keys:<br>
                                    - Key #1: 45/60 requests used (75% load) âš ï¸<br>
                                    - Key #2: 13/60 requests used (22% load) âœ… (Alice using)<br>
                                    - Key #3: 58/60 requests used (97% load) âŒ<br>
                                    <br>
                                    â†’ Key #2 still has capacity!<br>
                                    â†’ Using Key #2 for Bob's request (parallel)
                                </code>
                                
                                <div style="color: #8b5cf6; margin: 15px 0 10px;"><strong>ğŸ• 00:01.200</strong> - OpenAI responds</div>
                                <code style="color: #a0aec0; display: block; margin-left: 20px;">
                                    Response: "Roses are red, violets are blue..."<br>
                                    Tokens: 12 (prompt) + 88 (response) = 100 tokens<br>
                                    Credits deducted: 1 credit<br>
                                    Bob remaining: 9,999 credits
                                </code>
                            </div>
                        </div>

                        <!-- System Summary -->
                        <div style="background: rgba(72, 187, 120, 0.2); padding: 20px; border-radius: 8px; border-left: 4px solid #48bb78;">
                            <h5 style="color: #48bb78; margin-top: 0;">âœ… What Just Happened?</h5>
                            <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                                <li><strong>2 users</strong> sent requests within 25ms of each other</li>
                                <li><strong>Same API key</strong> (Key #2) handled both requests in parallel</li>
                                <li><strong>No collision</strong> - OpenAI allows multiple concurrent requests</li>
                                <li><strong>Load balanced</strong> - System avoided overloaded keys (#1, #3)</li>
                                <li><strong>Credits tracked</strong> - Each user's usage logged separately</li>
                                <li><strong>Rate limits respected</strong> - Both users within their plan limits</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h3>âš™ï¸ API Rotation Algorithm (Technical Deep Dive)</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">Smart Key Selection Logic</h4>
                
                <div class="code-block">
// Backend API Rotation Service
class APIRotationService {
  constructor() {
    this.keyPools = {
      openai: [
        { id: 1, key: 'sk-...1', requests: 0, limit: 60, resetAt: Date.now() + 60000 },
        { id: 2, key: 'sk-...2', requests: 0, limit: 60, resetAt: Date.now() + 60000 },
        { id: 3, key: 'sk-...3', requests: 0, limit: 60, resetAt: Date.now() + 60000 }
      ],
      anthropic: [...],
      gemini: [...]
      // ... 12 providers total
    };
  }

  async selectKey(provider, userPlan) {
    const pool = this.keyPools[provider];
    
    // 1. Filter out exhausted keys
    const availableKeys = pool.filter(key => {
      // Reset counter if time window passed
      if (Date.now() > key.resetAt) {
        key.requests = 0;
        key.resetAt = Date.now() + 60000; // Reset every 60 seconds
      }
      return key.requests < key.limit;
    });

    if (availableKeys.length === 0) {
      throw new Error('All API keys exhausted. Please try again in a moment.');
    }

    // 2. Sort by load (least used first)
    availableKeys.sort((a, b) => {
      const loadA = a.requests / a.limit;
      const loadB = b.requests / b.limit;
      return loadA - loadB;
    });

    // 3. Pro/Enterprise users get priority on fresh keys
    let selectedKey;
    if (userPlan === 'pro' || userPlan === 'enterprise') {
      selectedKey = availableKeys[0]; // Least loaded key
    } else {
      // Free users get round-robin from available keys
      selectedKey = availableKeys[Math.floor(Math.random() * Math.min(3, availableKeys.length))];
    }

    // 4. Increment request counter
    selectedKey.requests++;

    // 5. Log usage for monitoring
    await this.logKeyUsage(selectedKey.id, provider);

    return selectedKey.key;
  }

  async logKeyUsage(keyId, provider) {
    await db.query(`
      INSERT INTO api_key_usage (key_id, provider, timestamp)
      VALUES ($1, $2, NOW())
    `, [keyId, provider]);
  }
}

// Usage in API endpoint
app.post('/api/chat', async (req, res) => {
  const { provider, prompt } = req.body;
  const user = req.user; // From JWT middleware

  // 1. Check user credits
  const credits = await getUserCredits(user.id);
  if (credits.remaining <= 0) {
    return res.status(402).json({ error: 'Insufficient credits' });
  }

  // 2. Check rate limit
  const rateLimit = await checkRateLimit(user.id, user.plan);
  if (!rateLimit.allowed) {
    return res.status(429).json({ 
      error: 'Rate limit exceeded',
      retryAfter: rateLimit.retryAfter 
    });
  }

  // 3. Select API key using rotation
  const apiKey = await rotationService.selectKey(provider, user.plan);

  // 4. Make request to AI provider
  const response = await fetch(`https://api.${provider}.com/chat`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ prompt })
  });

  const data = await response.json();

  // 5. Calculate and deduct credits
  const tokensUsed = data.usage.total_tokens;
  const creditsUsed = Math.ceil(tokensUsed / 1000);
  await deductCredits(user.id, creditsUsed, tokensUsed, provider);

  // 6. Return response to user
  res.json({
    response: data.choices[0].message.content,
    usage: {
      tokens: tokensUsed,
      credits: creditsUsed,
      remaining: credits.remaining - creditsUsed
    }
  });
});
                </div>
            </div>

            <h3>ğŸ“Š Scaling to 1000 Users: The Math</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #fbbf24; margin-top: 0;">Capacity Analysis</h4>
                
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(251, 191, 36, 0.2); border-bottom: 2px solid #fbbf24;">
                            <th style="padding: 12px; text-align: left;">Provider</th>
                            <th style="padding: 12px; text-align: left;">Keys</th>
                            <th style="padding: 12px; text-align: left;">Rate Limit/Key</th>
                            <th style="padding: 12px; text-align: left;">Total Capacity</th>
                            <th style="padding: 12px; text-align: left;">Users Supported</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;">OpenAI</td>
                            <td style="padding: 12px;">3 keys</td>
                            <td style="padding: 12px;">60 req/min</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">180 req/min</strong></td>
                            <td style="padding: 12px;">~300 concurrent users</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;">Anthropic</td>
                            <td style="padding: 12px;">3 keys</td>
                            <td style="padding: 12px;">50 req/min</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">150 req/min</strong></td>
                            <td style="padding: 12px;">~250 concurrent users</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;">Google Gemini</td>
                            <td style="padding: 12px;">3 keys</td>
                            <td style="padding: 12px;">60 req/min</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">180 req/min</strong></td>
                            <td style="padding: 12px;">~300 concurrent users</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;">Other 9 Providers</td>
                            <td style="padding: 12px;">2 keys each</td>
                            <td style="padding: 12px;">40 req/min avg</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">720 req/min</strong></td>
                            <td style="padding: 12px;">~1200 concurrent users</td>
                        </tr>
                        <tr style="background: rgba(72, 187, 120, 0.2); border-top: 2px solid #48bb78;">
                            <td style="padding: 15px;"><strong>TOTAL</strong></td>
                            <td style="padding: 15px;"><strong>27 keys</strong></td>
                            <td style="padding: 15px;">-</td>
                            <td style="padding: 15px;"><strong style="color: #48bb78; font-size: 1.2em;">1,230 req/min</strong></td>
                            <td style="padding: 15px;"><strong style="color: #48bb78; font-size: 1.2em;">2,000+ users</strong></td>
                        </tr>
                    </tbody>
                </table>

                <div style="background: rgba(72, 187, 120, 0.1); padding: 20px; border-radius: 8px; margin-top: 25px; border-left: 4px solid #48bb78;">
                    <h5 style="color: #48bb78; margin-top: 0;">âœ… Real-World Scenario</h5>
                    <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                        <li><strong>1000 active users</strong> online at the same time</li>
                        <li><strong>Average usage:</strong> 1 request every 30 seconds per user</li>
                        <li><strong>Requests per minute:</strong> 1000 users Ã· 2 = 500 req/min</li>
                        <li><strong>System capacity:</strong> 1,230 req/min across all providers</li>
                        <li><strong>Load percentage:</strong> 500 Ã· 1,230 = <strong style="color: #48bb78;">40.6% capacity</strong></li>
                        <li><strong>Headroom:</strong> Can handle <strong style="color: #48bb78;">2.5x spike</strong> in traffic</li>
                    </ul>
                </div>
            </div>

            <h3>âš¡ Rate Limiting & Exhaustion Handling</h3>
            
            <div class="grid" style="margin-bottom: 30px;">
                <div class="card" style="border-left-color: #ef4444;">
                    <h4 style="color: #ef4444; margin-bottom: 10px;">ğŸš« When API Key Exhausted</h4>
                    <div class="code-block" style="margin-top: 10px; font-size: 0.85em;">
// Scenario: All 3 OpenAI keys hit limit
Key #1: 60/60 requests âŒ
Key #2: 60/60 requests âŒ
Key #3: 60/60 requests âŒ

// System response
1. Try fallback provider (Anthropic)
2. If all exhausted, queue request
3. Return 429 with retry-after
4. Notify admin via Slack/email

Response to user:
{
  error: "High traffic detected",
  message: "Please try again in 30s",
  retryAfter: 30,
  suggestion: "Try Anthropic or Gemini"
}
                    </div>
                </div>
                
                <div class="card" style="border-left-color: #f59e0b;">
                    <h4 style="color: #f59e0b; margin-bottom: 10px;">â±ï¸ Rate Limit Per User</h4>
                    <div class="code-block" style="margin-top: 10px; font-size: 0.85em;">
// Redis-based rate limiting
const rateLimit = {
  free: {
    requests: 10,
    window: 60 // seconds
  },
  pro: {
    requests: 50,
    window: 60
  },
  enterprise: {
    requests: 200,
    window: 60
  }
};

// Check before processing
const key = `ratelimit:${userId}`;
const count = await redis.incr(key);
if (count === 1) {
  await redis.expire(key, 60);
}

if (count > limit) {
  throw new RateLimitError();
}
                    </div>
                </div>
                
                <div class="card" style="border-left-color: #10b981;">
                    <h4 style="color: #10b981; margin-bottom: 10px;">ğŸ”„ Auto-Recovery</h4>
                    <ul style="color: #cbd5e0; font-size: 0.9rem; line-height: 1.8;">
                        <li><strong>Every 60 seconds:</strong> Reset all key counters</li>
                        <li><strong>Health checks:</strong> Test keys every 5 minutes</li>
                        <li><strong>Auto-disable:</strong> Remove broken keys from pool</li>
                        <li><strong>Alert system:</strong> Notify if >80% capacity</li>
                        <li><strong>Scaling:</strong> Add more keys when needed</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“± Frontend User Experience</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #8b5cf6; margin-top: 0;">User Dashboard Components</h4>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border: 2px solid #8b5cf6;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">ğŸ’³ Credit Display</h5>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; margin-top: 10px;">
                            <div style="color: #a0aec0; font-size: 0.9em;">Your Credits</div>
                            <div style="color: white; font-size: 2em; font-weight: bold; margin: 10px 0;">847 <span style="font-size: 0.5em; color: #a0aec0;">/ 1000</span></div>
                            <div style="background: rgba(139, 92, 246, 0.2); height: 8px; border-radius: 4px; overflow: hidden;">
                                <div style="background: linear-gradient(90deg, #8b5cf6, #ec4899); width: 84.7%; height: 100%;"></div>
                            </div>
                            <div style="color: #a0aec0; font-size: 0.85em; margin-top: 8px;">Resets in 12 days</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; border: 2px solid #3b82f6;">
                        <h5 style="color: #3b82f6; margin-top: 0;">ğŸ“Š Usage Stats</h5>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; margin-top: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span style="color: #a0aec0;">Today:</span>
                                <span style="color: white; font-weight: bold;">23 requests</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span style="color: #a0aec0;">This week:</span>
                                <span style="color: white; font-weight: bold;">187 requests</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: #a0aec0;">Favorite AI:</span>
                                <span style="color: white; font-weight: bold;">GPT-4 (45%)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 20px; border-radius: 8px; border: 2px solid #ec4899;">
                        <h5 style="color: #ec4899; margin-top: 0;">âš¡ Rate Limit</h5>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 6px; margin-top: 10px;">
                            <div style="color: #a0aec0; font-size: 0.9em;">Requests this minute</div>
                            <div style="color: white; font-size: 2em; font-weight: bold; margin: 10px 0;">3 <span style="font-size: 0.5em; color: #a0aec0;">/ 10</span></div>
                            <div style="background: rgba(236, 72, 153, 0.2); height: 8px; border-radius: 4px; overflow: hidden;">
                                <div style="background: linear-gradient(90deg, #ec4899, #f59e0b); width: 30%; height: 100%;"></div>
                            </div>
                            <div style="color: #48bb78; font-size: 0.85em; margin-top: 8px;">âœ… Within limits</div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>ğŸ” Sign Out & Session Management</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <div class="code-block">
// Sign Out Flow
POST /api/auth/signout

Backend Process:
1. Extract JWT token from Authorization header
2. Add token to blacklist (Redis with TTL)
3. Delete session record from database
4. Clear any cached user data
5. Log sign-out event for security audit

// Token Blacklist (prevents reuse)
await redis.setex(
  `blacklist:${token}`,
  604800, // 7 days (token expiry)
  'signed_out'
);

// Delete session
await db.query(
  'DELETE FROM sessions WHERE user_id = $1',
  [userId]
);

// Frontend
localStorage.removeItem('token');
localStorage.removeItem('user');
redirect('/signin');

// Security: All future requests with this token will be rejected
                </div>
            </div>

            <h3>ğŸ“ˆ Database Schema for User System</h3>
            
            <div class="code-block">
-- Users table
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  email_verified BOOLEAN DEFAULT false,
  status VARCHAR(50) DEFAULT 'active', -- active, suspended, banned
  plan_type VARCHAR(50) DEFAULT 'free', -- free, pro, enterprise
  created_at TIMESTAMP DEFAULT NOW(),
  last_login TIMESTAMP,
  updated_at TIMESTAMP DEFAULT NOW()
);

-- User credits
CREATE TABLE user_credits (
  id SERIAL PRIMARY KEY,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  total_credits INTEGER NOT NULL,
  used_credits INTEGER DEFAULT 0,
  remaining_credits INTEGER NOT NULL,
  plan_type VARCHAR(50),
  reset_date TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Usage logs (for analytics)
CREATE TABLE usage_logs (
  id SERIAL PRIMARY KEY,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  provider VARCHAR(50) NOT NULL,
  model VARCHAR(100),
  prompt_tokens INTEGER,
  completion_tokens INTEGER,
  total_tokens INTEGER,
  credits_used INTEGER,
  request_duration_ms INTEGER,
  timestamp TIMESTAMP DEFAULT NOW(),
  INDEX idx_user_timestamp (user_id, timestamp),
  INDEX idx_provider (provider)
);

-- Sessions
CREATE TABLE sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  token_hash VARCHAR(255) NOT NULL,
  ip_address INET,
  user_agent TEXT,
  expires_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  INDEX idx_user_id (user_id),
  INDEX idx_expires (expires_at)
);

-- API key pool
CREATE TABLE api_key_pool (
  id SERIAL PRIMARY KEY,
  provider VARCHAR(50) NOT NULL,
  key_hash VARCHAR(255) NOT NULL, -- Encrypted API key
  requests_used INTEGER DEFAULT 0,
  rate_limit INTEGER NOT NULL,
  reset_at TIMESTAMP,
  status VARCHAR(50) DEFAULT 'active', -- active, exhausted, disabled
  last_used TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  INDEX idx_provider_status (provider, status)
);

-- API key usage tracking
CREATE TABLE api_key_usage (
  id SERIAL PRIMARY KEY,
  key_id INTEGER REFERENCES api_key_pool(id),
  provider VARCHAR(50),
  user_id UUID REFERENCES users(id),
  timestamp TIMESTAMP DEFAULT NOW(),
  INDEX idx_key_timestamp (key_id, timestamp)
);
            </div>

            <div style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); padding: 25px; border-radius: 12px; margin-top: 30px; text-align: center; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="margin: 0; color: white; font-size: 1.5em;">ğŸ‰ Complete User System Ready!</h3>
                <p style="color: rgba(255,255,255,0.95); margin: 15px 0 0; line-height: 1.6;">
                    From signup to API rotation, every user gets fair access to 12 AI providers with smart load balancing,
                    credit tracking, and rate limiting. System can handle <strong>1000+ concurrent users</strong> seamlessly!
                </p>
            </div>
        </section>

        <!-- USER ONBOARDING & CONVERSION SECTION -->
        <section id="onboarding" class="section">
            <h2>ğŸ User Onboarding & Conversion Strategy</h2>
            <p style="color: #a0aec0; margin-bottom: 30px;">$10 testing budget, conversion tactics, hoverable help system, and React UI implementation for the current frontend.</p>

            <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="margin-top: 0; color: white;">ğŸ’° $10 Testing Budget Strategy</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’µ</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">$10 Free Credits</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Every new user gets $10 worth of AI credits to test all features
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ¯</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">~10,000 Tokens</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Enough for 50-100 AI conversations across all 12 providers
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">â°</div>
                        <h4 style="color: white; margin: 10px 0; font-size: 1.1em;">7-Day Expiry</h4>
                        <p style="font-size: 0.9em; line-height: 1.6; margin: 0; color: rgba(255,255,255,0.9);">
                            Creates urgency to try the platform before credits expire
                        </p>
                    </div>
                </div>
            </div>

            <h3>ğŸ“Š What $10 Gets You</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="background: rgba(16, 185, 129, 0.2); border-bottom: 2px solid #10b981;">
                            <th style="padding: 15px; text-align: left;">AI Provider</th>
                            <th style="padding: 15px; text-align: left;">Cost per 1K Tokens</th>
                            <th style="padding: 15px; text-align: left;">$10 Gets You</th>
                            <th style="padding: 15px; text-align: left;">Conversations</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #10b981;">GPT-4o</strong></td>
                            <td style="padding: 12px;">$0.005</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">2,000,000 tokens</strong></td>
                            <td style="padding: 12px;">~100 conversations</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #3b82f6;">Claude 3.5 Sonnet</strong></td>
                            <td style="padding: 12px;">$0.003</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">3,333,333 tokens</strong></td>
                            <td style="padding: 12px;">~150 conversations</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #8b5cf6;">Gemini Pro</strong></td>
                            <td style="padding: 12px;">$0.00025</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">40,000,000 tokens</strong></td>
                            <td style="padding: 12px;">~200 conversations</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 12px;"><strong style="color: #ec4899;">Llama 3.1</strong></td>
                            <td style="padding: 12px;">$0.0002</td>
                            <td style="padding: 12px;"><strong style="color: #48bb78;">50,000,000 tokens</strong></td>
                            <td style="padding: 12px;">~250 conversations</td>
                        </tr>
                        <tr style="background: rgba(16, 185, 129, 0.2); border-top: 2px solid #10b981;">
                            <td style="padding: 15px;"><strong>Average Mix</strong></td>
                            <td style="padding: 15px;">-</td>
                            <td style="padding: 15px;"><strong style="color: #10b981; font-size: 1.1em;">~10,000 tokens</strong></td>
                            <td style="padding: 15px;"><strong style="color: #10b981; font-size: 1.1em;">50-100 chats</strong></td>
                        </tr>
                    </tbody>
                </table>

                <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; margin-top: 25px; border-left: 4px solid #10b981;">
                    <h5 style="color: #10b981; margin-top: 0;">ğŸ’¡ Why $10 is Perfect</h5>
                    <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                        <li><strong>Enough to explore:</strong> Users can test all 12 AI providers thoroughly</li>
                        <li><strong>Not too much:</strong> Creates value perception without giving away too much</li>
                        <li><strong>Conversion sweet spot:</strong> Users get hooked before running out</li>
                        <li><strong>Low risk for us:</strong> $10 Ã— 1000 users = $10,000 max cost</li>
                        <li><strong>High conversion:</strong> 20-30% typically convert after free trial</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ¯ Conversion Strategy: Making Users Subscribe</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #ec4899; margin-top: 0;">7 Psychological Triggers to Convert Free Users</h4>
                
                <div style="display: grid; gap: 20px; margin-top: 20px;">
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #ec4899;">
                        <h5 style="color: #ec4899; margin-top: 0;">1ï¸âƒ£ Urgency: Credit Countdown Timer</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Show a live countdown of remaining credits and expiry time to create FOMO (Fear of Missing Out).
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// React Component: CreditCountdown
<div className="credit-alert">
  <div className="countdown-timer">
    â° Your $10 free credits expire in: <strong>4 days 12 hours</strong>
  </div>
  <div className="credit-remaining">
    ğŸ’° <strong>$6.50</strong> remaining (65% used)
  </div>
  <div className="progress-bar">
    <div className="progress-fill" style={{ width: '35%' }}></div>
  </div>
  <p className="warning-text">
    âš ï¸ Don't lose your remaining credits! Subscribe now to keep them forever.
  </p>
</div>
                        </div>
                    </div>

                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <h5 style="color: #3b82f6; margin-top: 0;">2ï¸âƒ£ Social Proof: Show Active Users</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Display real-time stats to show the platform is popular and trusted.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Live Stats Banner
<div className="social-proof-banner">
  <div className="stat-item">
    <span className="stat-icon">ğŸ‘¥</span>
    <span className="stat-value">2,847</span>
    <span className="stat-label">Active Users</span>
  </div>
  <div className="stat-item">
    <span className="stat-icon">ğŸ’¬</span>
    <span className="stat-value">1.2M</span>
    <span className="stat-label">Conversations Today</span>
  </div>
  <div className="stat-item">
    <span className="stat-icon">â­</span>
    <span className="stat-value">4.9/5</span>
    <span className="stat-label">User Rating</span>
  </div>
</div>

// Recent Activity Feed
<div className="activity-feed">
  <p>ğŸ‰ <strong>Sarah J.</strong> just upgraded to Pro</p>
  <p>âœ¨ <strong>Mike T.</strong> completed 50 conversations</p>
  <p>ğŸš€ <strong>Alex K.</strong> tried all 12 AI providers</p>
</div>
                        </div>
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">3ï¸âƒ£ Value Comparison: Show What They're Missing</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            When credits run low, show a comparison table highlighting Pro benefits.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Upgrade Prompt Modal (triggers at 80% usage)
<Modal show={credits < 2}>
  <h3>ğŸš€ You're loving OneMindAI!</h3>
  <p>You've used $8 of your $10 trial. Here's what you get with Pro:</p>
  
  <ComparisonTable>
    <Row>
      <Cell>Credits/Month</Cell>
      <Cell>Free: $10 (one-time)</Cell>
      <Cell highlight>Pro: $50/month</Cell>
    </Row>
    <Row>
      <Cell>AI Providers</Cell>
      <Cell>3 basic models</Cell>
      <Cell highlight>All 12 premium models</Cell>
    </Row>
    <Row>
      <Cell>Rate Limit</Cell>
      <Cell>10 requests/min</Cell>
      <Cell highlight>50 requests/min</Cell>
    </Row>
    <Row>
      <Cell>Priority Support</Cell>
      <Cell>âŒ</Cell>
      <Cell highlight>âœ… 24/7 support</Cell>
    </Row>
  </ComparisonTable>
  
  <Button>Upgrade to Pro - Only $19.99/month</Button>
  <Link>Continue with free credits</Link>
</Modal>
                        </div>
                    </div>

                    <div style="background: rgba(251, 191, 36, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #fbbf24;">
                        <h5 style="color: #fbbf24; margin-top: 0;">4ï¸âƒ£ Personalized Recommendations</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Track user behavior and suggest the perfect plan based on their usage patterns.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Smart Recommendation Engine
const analyzeUsage = (user) => {
  const { totalRequests, favoriteProvider, avgTokens } = user.stats;
  
  if (totalRequests > 100 && avgTokens > 500) {
    return {
      plan: 'Pro',
      reason: 'You're a power user! Pro gives you 5x more credits.',
      savings: 'Save $15/month vs pay-as-you-go'
    };
  }
  
  if (favoriteProvider === 'gpt-4') {
    return {
      plan: 'Pro',
      reason: 'GPT-4 is expensive. Pro plan includes discounted rates.',
      savings: '40% cheaper per request'
    };
  }
  
  return {
    plan: 'Starter',
    reason: 'Perfect for your usage level',
    savings: 'Just $9.99/month'
  };
};

// Display Recommendation
<RecommendationCard>
  <h4>ğŸ“Š Based on your usage, we recommend:</h4>
  <PlanCard plan={recommendation.plan}>
    <Badge>Best for You</Badge>
    <Price>$19.99/month</Price>
    <Reason>{recommendation.reason}</Reason>
    <Savings>{recommendation.savings}</Savings>
  </PlanCard>
</RecommendationCard>
                        </div>
                    </div>

                    <div style="background: rgba(239, 68, 68, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #ef4444;">
                        <h5 style="color: #ef4444; margin-top: 0;">5ï¸âƒ£ Loss Aversion: "Don't Lose Your Work"</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Remind users they'll lose conversation history and saved prompts if they don't subscribe.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Warning Banner (shows when credits < $1)
<WarningBanner type="urgent">
  <Icon>âš ï¸</Icon>
  <Message>
    <strong>Your account will be limited in 2 days!</strong>
    <ul>
      <li>âŒ Lose access to 47 saved conversations</li>
      <li>âŒ Lose 23 custom prompts you created</li>
      <li>âŒ Lose your usage analytics and insights</li>
    </ul>
    <p>Subscribe now to keep everything forever!</p>
  </Message>
  <Button variant="danger">Save My Data - Upgrade Now</Button>
</WarningBanner>
                        </div>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h5 style="color: #10b981; margin-top: 0;">6ï¸âƒ£ Limited-Time Offer: First Month Discount</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Offer a special discount that expires with their trial to create urgency.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Special Offer Modal
<OfferModal>
  <Badge color="red">ğŸ”¥ Limited Time Offer</Badge>
  <h3>Exclusive Trial User Discount!</h3>
  <PriceComparison>
    <OldPrice>$19.99/month</OldPrice>
    <NewPrice>$9.99/month</NewPrice>
    <Savings>Save 50% for 3 months!</Savings>
  </PriceComparison>
  
  <CountdownTimer>
    Offer expires in: <strong>3 days 14 hours</strong>
  </CountdownTimer>
  
  <Features>
    âœ… All 12 AI providers
    âœ… 50,000 tokens/month
    âœ… Priority support
    âœ… No rate limits
  </Features>
  
  <Button size="large">Claim 50% Off Now</Button>
  <Guarantee>ğŸ’° 30-day money-back guarantee</Guarantee>
</OfferModal>
                        </div>
                    </div>

                    <div style="background: rgba(168, 85, 247, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #a855f7;">
                        <h5 style="color: #a855f7; margin-top: 0;">7ï¸âƒ£ Gamification: Achievement Badges</h5>
                        <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 15px;">
                            Award badges for milestones, with "Pro Member" badge as the ultimate achievement.
                        </p>
                        <div class="code-block" style="font-size: 0.9em;">
// Achievement System
<AchievementPanel>
  <Badge earned>ğŸ¯ First Conversation</Badge>
  <Badge earned>ğŸ”¥ 10 Conversations</Badge>
  <Badge earned>ğŸŒŸ Tried 5 AI Providers</Badge>
  <Badge locked>ğŸ‘‘ Pro Member (Subscribe to unlock)</Badge>
  <Badge locked>ğŸ’ Power User (100+ conversations)</Badge>
  <Badge locked>ğŸš€ AI Master (All 12 providers)</Badge>
</AchievementPanel>

// Progress Bar
<ProgressCard>
  <h4>Your Journey to AI Master</h4>
  <Progress value={60} max={100}>
    <Label>60% Complete</Label>
  </Progress>
  <NextMilestone>
    Next: Subscribe to Pro to unlock 3 more badges!
  </NextMilestone>
</ProgressCard>
                        </div>
                    </div>
                </div>
            </div>

            <h3>â“ Hoverable Help Functionality</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #60a5fa; margin-top: 0;">Interactive Help System (Tooltips & Popovers)</h4>
                
                <p style="color: #a0aec0; line-height: 1.8; margin-bottom: 20px;">
                    Every important UI element has a hoverable <strong>â“˜</strong> icon that explains what it does, why it matters, and what happens when clicked.
                </p>

                <div style="background: rgba(96, 165, 250, 0.1); padding: 25px; border-radius: 8px; margin-top: 20px; border: 2px solid #60a5fa;">
                    <h5 style="color: #60a5fa; margin-top: 0;">React Implementation: Tooltip Component</h5>
                    
                    <div class="code-block">
// components/HelpTooltip.tsx
import { useState } from 'react';
import { Info } from 'lucide-react';

interface TooltipProps {
  title: string;
  description: string;
  whatHappens?: string;
  learnMoreUrl?: string;
}

export const HelpTooltip = ({ 
  title, 
  description, 
  whatHappens, 
  learnMoreUrl 
}: TooltipProps) => {
  const [isVisible, setIsVisible] = useState(false);

  return (
    <div className="relative inline-block">
      {/* Info Icon */}
      <button
        className="help-icon"
        onMouseEnter={() => setIsVisible(true)}
        onMouseLeave={() => setIsVisible(false)}
        onClick={() => setIsVisible(!isVisible)}
      >
        <Info size={16} className="text-blue-400 hover:text-blue-300" />
      </button>

      {/* Tooltip Popover */}
      {isVisible && (
        <div className="tooltip-popover">
          <div className="tooltip-arrow" />
          
          <div className="tooltip-content">
            <h4 className="tooltip-title">{title}</h4>
            <p className="tooltip-description">{description}</p>
            
            {whatHappens && (
              <div className="tooltip-section">
                <strong>What happens when clicked:</strong>
                <p>{whatHappens}</p>
              </div>
            )}
            
            {learnMoreUrl && (
              <a 
                href={learnMoreUrl} 
                className="tooltip-link"
                target="_blank"
              >
                Learn more â†’
              </a>
            )}
          </div>
        </div>
      )}
    </div>
  );
};

// Usage Example
<div className="credit-display">
  <span>Your Credits: $6.50</span>
  <HelpTooltip
    title="What are Credits?"
    description="Credits are your AI usage currency. Each AI request costs credits based on the number of tokens (words) processed."
    whatHappens="Your credit balance decreases with each AI conversation. When you run out, you'll need to subscribe or purchase more credits."
    learnMoreUrl="/docs/credits"
  />
</div>
                    </div>
                </div>

                <h5 style="color: #a0aec0; margin-top: 30px; margin-bottom: 15px;">ğŸ“ Where to Add Help Tooltips</h5>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">ğŸ’³ Credit Balance</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Credits power your AI conversations. $1 = ~1000 tokens. Subscribe for unlimited access."
                        </p>
                    </div>
                    
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">ğŸ¤– AI Provider Selection</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Each AI has unique strengths. GPT-4 for reasoning, Claude for writing, Gemini for speed."
                        </p>
                    </div>
                    
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">âš¡ Rate Limit</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Free: 10 req/min. Pro: 50 req/min. Prevents abuse and ensures fair access for all users."
                        </p>
                    </div>
                    
                    <div style="background: rgba(251, 191, 36, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #fbbf24;">
                        <strong style="color: #fbbf24;">ğŸ“Š Token Counter</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Tokens = words + punctuation. Average message = 50-200 tokens. Longer = more credits used."
                        </p>
                    </div>
                    
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">ğŸš€ Upgrade Button</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Get 5x more credits, access all 12 AIs, priority support, and no rate limits. Cancel anytime."
                        </p>
                    </div>
                    
                    <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #ef4444;">
                        <strong style="color: #ef4444;">â° Expiry Timer</strong>
                        <p style="color: #a0aec0; font-size: 0.9em; margin: 8px 0 0;">
                            "Trial credits expire in 7 days. Subscribe before expiry to keep your remaining balance forever."
                        </p>
                    </div>
                </div>
            </div>

            <h3>ğŸ¨ React Frontend UI Mockup (Current Design)</h3>
            
            <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: #ec4899; margin-top: 0;">How It Looks on Your Current Frontend</h4>
                
                <div style="background: #0f1419; padding: 25px; border-radius: 12px; margin-top: 20px; border: 2px solid #2d3748;">
                    <div style="background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <!-- Top Navigation Bar -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <h3 style="margin: 0; color: white; font-size: 1.3em;">OneMindAI</h3>
                                <span style="background: linear-gradient(135deg, #10b981, #059669); padding: 4px 12px; border-radius: 12px; font-size: 0.85em; color: white;">Trial User</span>
                            </div>
                            
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <!-- Credit Display with Tooltip -->
                                <div style="display: flex; align-items: center; gap: 8px; background: rgba(16, 185, 129, 0.1); padding: 10px 15px; border-radius: 8px; border: 1px solid #10b981;">
                                    <span style="color: #10b981; font-weight: bold;">$6.50</span>
                                    <span style="color: #a0aec0; font-size: 0.9em;">/ $10.00</span>
                                    <div style="background: #3b82f6; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75em; color: white; cursor: help;">â“˜</div>
                                </div>
                                
                                <!-- Expiry Timer -->
                                <div style="display: flex; align-items: center; gap: 8px; background: rgba(239, 68, 68, 0.1); padding: 10px 15px; border-radius: 8px; border: 1px solid #ef4444;">
                                    <span style="color: #ef4444;">â°</span>
                                    <span style="color: #ef4444; font-size: 0.9em;">Expires in 4d 12h</span>
                                    <div style="background: #3b82f6; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75em; color: white; cursor: help;">â“˜</div>
                                </div>
                                
                                <!-- Upgrade Button -->
                                <button style="background: linear-gradient(135deg, #ec4899, #8b5cf6); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                                    <span>ğŸš€ Upgrade to Pro</span>
                                </button>
                            </div>
                        </div>

                        <!-- Main Content Area -->
                        <div style="display: grid; grid-template-columns: 250px 1fr; gap: 20px;">
                            <!-- Sidebar -->
                            <div style="background: rgba(30, 41, 59, 0.5); padding: 20px; border-radius: 8px;">
                                <h4 style="color: #a0aec0; font-size: 0.9em; margin: 0 0 15px;">AI PROVIDERS</h4>
                                
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <div style="background: rgba(59, 130, 246, 0.2); padding: 12px; border-radius: 6px; border-left: 3px solid #3b82f6; display: flex; justify-content: space-between; align-items: center;">
                                        <span style="color: white; font-size: 0.9em;">GPT-4o</span>
                                        <div style="background: #3b82f6; width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7em; color: white; cursor: help;">â“˜</div>
                                    </div>
                                    
                                    <div style="background: rgba(139, 92, 246, 0.2); padding: 12px; border-radius: 6px; border-left: 3px solid #8b5cf6; display: flex; justify-content: space-between; align-items: center;">
                                        <span style="color: white; font-size: 0.9em;">Claude 3.5</span>
                                        <div style="background: #3b82f6; width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7em; color: white; cursor: help;">â“˜</div>
                                    </div>
                                    
                                    <div style="background: rgba(236, 72, 153, 0.2); padding: 12px; border-radius: 6px; border-left: 3px solid #ec4899; display: flex; justify-content: space-between; align-items: center;">
                                        <span style="color: white; font-size: 0.9em;">Gemini Pro</span>
                                        <div style="background: #3b82f6; width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7em; color: white; cursor: help;">â“˜</div>
                                    </div>
                                    
                                    <div style="background: rgba(100, 100, 100, 0.2); padding: 12px; border-radius: 6px; border-left: 3px solid #6b7280; display: flex; justify-content: space-between; align-items: center; opacity: 0.5;">
                                        <span style="color: #a0aec0; font-size: 0.9em;">+9 more</span>
                                        <div style="background: #ef4444; padding: 2px 8px; border-radius: 10px; font-size: 0.75em; color: white;">Pro Only</div>
                                    </div>
                                </div>

                                <div style="margin-top: 25px; background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px; border: 1px solid #10b981;">
                                    <h5 style="color: #10b981; margin: 0 0 10px; font-size: 0.9em;">ğŸ“Š Your Stats</h5>
                                    <div style="color: #a0aec0; font-size: 0.85em; line-height: 1.8;">
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Conversations:</span>
                                            <strong style="color: white;">47</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Tokens used:</span>
                                            <strong style="color: white;">3,500</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Favorite AI:</span>
                                            <strong style="color: white;">GPT-4</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Area -->
                            <div style="background: rgba(30, 41, 59, 0.3); padding: 25px; border-radius: 8px; min-height: 400px; display: flex; flex-direction: column;">
                                <!-- Upgrade Banner (appears at 80% usage) -->
                                <div style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%); padding: 20px; border-radius: 8px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h4 style="margin: 0 0 8px; color: white;">ğŸ‰ You're loving OneMindAI!</h4>
                                        <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 0.9em;">
                                            You've used 65% of your trial. Upgrade now and get <strong>50% off</strong> for 3 months!
                                        </p>
                                    </div>
                                    <button style="background: white; color: #8b5cf6; border: none; padding: 12px 24px; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap;">
                                        Claim Offer
                                    </button>
                                </div>

                                <!-- Chat Messages -->
                                <div style="flex: 1; overflow-y: auto; margin-bottom: 20px;">
                                    <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 3px solid #3b82f6;">
                                        <div style="color: #3b82f6; font-size: 0.85em; margin-bottom: 5px;">You</div>
                                        <div style="color: white;">Explain quantum computing in simple terms</div>
                                    </div>
                                    
                                    <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 3px solid #8b5cf6;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                            <div style="color: #8b5cf6; font-size: 0.85em;">GPT-4o</div>
                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                <span style="color: #a0aec0; font-size: 0.8em;">125 tokens</span>
                                                <span style="color: #10b981; font-size: 0.8em;">$0.13 used</span>
                                                <div style="background: #3b82f6; width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7em; color: white; cursor: help;">â“˜</div>
                                            </div>
                                        </div>
                                        <div style="color: #cbd5e0; line-height: 1.6;">
                                            Quantum computing uses quantum mechanics principles to process information...
                                        </div>
                                    </div>
                                </div>

                                <!-- Input Area -->
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <input 
                                        type="text" 
                                        placeholder="Ask anything..." 
                                        style="flex: 1; background: rgba(30, 41, 59, 0.8); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 15px; border-radius: 8px; font-size: 0.95em;"
                                    />
                                    <button style="background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-weight: bold; cursor: pointer;">
                                        Send
                                    </button>
                                </div>

                                <!-- Rate Limit Indicator -->
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <span style="color: #a0aec0; font-size: 0.85em;">Rate Limit:</span>
                                        <span style="color: #10b981; font-size: 0.85em;">3/10 requests this minute</span>
                                        <div style="background: #3b82f6; width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7em; color: white; cursor: help;">â“˜</div>
                                    </div>
                                    <div style="background: rgba(16, 185, 129, 0.2); height: 6px; width: 150px; border-radius: 3px; overflow: hidden;">
                                        <div style="background: #10b981; height: 100%; width: 30%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tooltip Popover Example (Floating) -->
                    <div style="position: relative; margin-top: -180px; margin-left: 320px; width: 300px;">
                        <div style="background: #1e293b; border: 2px solid #3b82f6; border-radius: 8px; padding: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);">
                            <div style="position: absolute; top: -8px; left: 20px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-bottom: 8px solid #3b82f6;"></div>
                            
                            <h5 style="color: #3b82f6; margin: 0 0 10px; font-size: 0.95em;">ğŸ’³ What are Credits?</h5>
                            <p style="color: #cbd5e0; font-size: 0.85em; line-height: 1.6; margin: 0 0 12px;">
                                Credits power your AI conversations. Each request costs credits based on tokens (words) processed.
                            </p>
                            
                            <div style="background: rgba(59, 130, 246, 0.1); padding: 10px; border-radius: 6px; margin-bottom: 12px;">
                                <strong style="color: #60a5fa; font-size: 0.85em;">What happens:</strong>
                                <p style="color: #a0aec0; font-size: 0.8em; margin: 5px 0 0; line-height: 1.5;">
                                    Your balance decreases with each AI conversation. When you run out, you'll need to subscribe or buy more.
                                </p>
                            </div>
                            
                            <a href="#" style="color: #3b82f6; font-size: 0.85em; text-decoration: none; display: flex; align-items: center; gap: 5px;">
                                Learn more about credits â†’
                            </a>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; margin-top: 30px; border-left: 4px solid #10b981;">
                    <h5 style="color: #10b981; margin-top: 0;">âœ… Key UI Features Implemented</h5>
                    <ul style="color: #a0aec0; line-height: 1.8; margin: 0;">
                        <li><strong>Credit Display:</strong> Always visible in top-right with live balance and â“˜ tooltip</li>
                        <li><strong>Expiry Timer:</strong> Red countdown creating urgency to subscribe</li>
                        <li><strong>Upgrade Banner:</strong> Appears at 80% usage with special offer</li>
                        <li><strong>Help Icons (â“˜):</strong> On every important element - hover to see explanation</li>
                        <li><strong>Token Counter:</strong> Shows cost per message in real-time</li>
                        <li><strong>Rate Limit Bar:</strong> Visual indicator of current usage vs limit</li>
                        <li><strong>Pro-Only Badge:</strong> On locked AI providers to show upgrade value</li>
                        <li><strong>Stats Panel:</strong> Shows user progress and achievements</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“± Mobile-Responsive Design</h3>
            
            <div class="code-block">
// Tailwind CSS Classes for Responsive Tooltips
<div className="relative group">
  {/* Mobile: Tap to toggle, Desktop: Hover */}
  <button 
    className="help-icon"
    onClick={() => setShowTooltip(!showTooltip)}
  >
    <Info className="w-4 h-4 text-blue-400" />
  </button>

  {/* Tooltip - Responsive positioning */}
  <div className={`
    absolute z-50 w-72 p-4 
    bg-slate-800 border-2 border-blue-500 rounded-lg shadow-2xl
    transition-all duration-200
    ${showTooltip ? 'opacity-100 visible' : 'opacity-0 invisible'}
    
    // Desktop: Right of icon
    md:left-full md:top-0 md:ml-2
    
    // Mobile: Below icon, centered
    left-1/2 top-full mt-2 -translate-x-1/2
  `}>
    <div className="tooltip-arrow" />
    {/* Tooltip content */}
  </div>
</div>

// CSS for smooth animations
.tooltip-popover {
  animation: fadeIn 0.2s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
            </div>

            <div style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); padding: 25px; border-radius: 12px; margin-top: 30px; text-align: center; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="margin: 0; color: white; font-size: 1.5em;">ğŸ‰ Complete Onboarding System Ready!</h3>
                <p style="color: rgba(255,255,255,0.95); margin: 15px 0 0; line-height: 1.6;">
                    $10 trial budget, 7 conversion tactics, hoverable help on every element, and beautiful React UI that converts free users into paying subscribers!
                </p>
            </div>
        </section>

        <!-- CHECKLIST SECTION -->
        <section id="checklist" class="section">
            <h2>âœ… Launch Checklist</h2>
            
            <h3>Security Checklist</h3>
            <ul class="checklist">
                <li>Remove all hardcoded API keys from frontend</li>
                <li>Set up backend proxy for all AI calls</li>
                <li>Configure environment variables in Vercel</li>
                <li>Enable HTTPS only</li>
                <li>Set up proper CORS headers</li>
                <li>Add rate limiting</li>
                <li>Validate and sanitize all inputs</li>
                <li>Add .env to .gitignore</li>
            </ul>

            <h3>Performance Checklist</h3>
            <ul class="checklist">
                <li>Enable code splitting</li>
                <li>Lazy load heavy components</li>
                <li>Optimize images</li>
                <li>Enable gzip compression</li>
                <li>Set up CDN caching</li>
                <li>Remove unused dependencies</li>
                <li>Delete unused components</li>
            </ul>

            <h3>Monitoring Checklist</h3>
            <ul class="checklist">
                <li>Set up Sentry error tracking</li>
                <li>Configure error alerts</li>
                <li>Set up uptime monitoring</li>
                <li>Enable Vercel Analytics</li>
                <li>Set up API cost alerts on providers</li>
            </ul>

            <h3>Testing Checklist</h3>
            <ul class="checklist">
                <li>Test all 12 AI providers</li>
                <li>Test PDF export</li>
                <li>Test Word export</li>
                <li>Test clipboard copy</li>
                <li>Test file upload</li>
                <li>Test on Chrome, Firefox, Safari</li>
                <li>Test on mobile devices</li>
                <li>Run stress tests</li>
                <li>Test error handling</li>
            </ul>

            <h3>Documentation Checklist</h3>
            <ul class="checklist">
                <li>Update README with setup instructions</li>
                <li>Document environment variables</li>
                <li>Create user guide</li>
                <li>Document API endpoints</li>
            </ul>
        </section>

        <!-- FOOTER -->
        <footer style="text-align: center; padding: 40px; color: #a0aec0;">
            <p>OneMindAI Production Launch Plan</p>
            <p>Formula2GX Digital Advanced Incubation Labs</p>
            <p>Target Launch: December 10, 2025</p>
        </footer>
    </div>

    <script>
        // Smooth scroll for navigation
        document.querySelectorAll('.nav a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Highlight active section in nav
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav a');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
